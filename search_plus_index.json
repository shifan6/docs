{"./":{"url":"./","title":"ä»‹ç»","keywords":"","body":"ä»‹ç» æœ¬å‰ç«¯è§„èŒƒé€‚ç”¨äºæ•™ç ”ä¸­å°ã€å·¥ä½œå°ã€CRMåŠå­¦æƒ…æ•°æ®å¹³å°ï¼Œè¯·åŠ¡å¿…ä»”ç»†é˜…è¯»ã€‚ powered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-16 15:26:31 "},"specification/file.html":{"url":"specification/file.html","title":"æ–‡ä»¶ç›®å½•","keywords":"","body":"æ–‡ä»¶ç›®å½• ç›®å½•å‘½å æ–‡ä»¶å¤¹å‡é‡‡ç”¨ kebab-case å‘½åï¼Œå³å­—æ¯å°å†™ï¼Œä»¥ä¸­åˆ’çº¿åˆ†å‰²ã€‚æœ‰å¤æ•°ç»“æ„æ—¶ï¼Œé‡‡ç”¨å¤æ•°å‘½åæ³•ã€‚ // æ¨è scripts / styles / demo-styles // ä¸æ¨è script / style / demo_scripts / demoStyles ã€ç‰¹æ®Šã€‘vueæ–‡ä»¶æ²¿ç”¨ç°æœ‰ä¹ æƒ¯ï¼Œé‡‡ç”¨ PascalCase å‘½åï¼Œå³é¦–å­—æ¯å¤§å†™ã€‚ // ç¤ºä¾‹ HeadSearch / PageLoading JSã€CSSã€SCSSã€HTMLã€PNG ç­‰æ–‡ä»¶å‘½å æ–‡ä»¶å‡é‡‡ç”¨ kebab-case å‘½åï¼Œå³å­—æ¯å°å†™ï¼Œä»¥ä¸­åˆ’çº¿åˆ†å‰²ã€‚ // ç¤ºä¾‹ render-dom.js / sign-up.css / index.html / user-management.html / company-logo.png å‘½åä¸¥è°¨æ€§ ä»£ç ä¸­çš„å‘½åä¸¥ç¦ä½¿ç”¨æ‹¼éŸ³ä¸è‹±æ–‡æ··åˆçš„æ–¹å¼ï¼Œæ›´ä¸å…è®¸ç›´æ¥ä½¿ç”¨ä¸­æ–‡çš„æ–¹å¼ã€‚ æ­£ç¡®çš„è‹±æ–‡æ‹¼å†™å’Œè¯­æ³•å¯ä»¥è®©é˜…è¯»è€…æ˜“äºç†è§£ï¼Œé¿å…æ­§ä¹‰ã€‚æ³¨æ„ï¼Œå³ä½¿çº¯æ‹¼éŸ³å‘½åæ–¹å¼ä¹Ÿè¦é¿å…é‡‡ç”¨ã€‚ // æœç»å®Œå…¨ä¸è§„èŒƒçš„ç¼©å†™ï¼Œé¿å…æœ›æ–‡ä¸çŸ¥ä¹‰ AbstractClassâ€œç¼©å†™â€å‘½åæˆ AbsClassï¼Œconditionâ€œç¼©å†™â€å‘½åæˆ condiï¼Œæ­¤ç±»éšæ„ç¼©å†™ä¸¥é‡é™ä½äº†ä»£ç çš„å¯é˜…è¯»æ€§ã€‚ ç›®å½•ç»“æ„ vueé¡¹ç›®æ¨èä½¿ç”¨ä»¥ä¸‹ç»“æ„ï¼š src æºç ç›®å½• |-- assets é™æ€èµ„æºï¼Œimages, icons, styles, jsç­‰, æ‰“åŒ…æ—¶éœ€å‹ç¼©æ ¼å¼åŒ–ï¼ˆå·²å¤„ç†çš„ç¬¬ä¸‰æ–¹æ–‡ä»¶æ”¾åœ¨staticä¸­ï¼‰ |-- components å…¬ç”¨ç»„ä»¶ |-- constants å¸¸é‡ä¿¡æ¯ï¼Œé¡¹ç›®æ‰€æœ‰Enum, å…¨å±€å¸¸é‡ç­‰ |-- directives è‡ªå®šä¹‰æŒ‡ä»¤ |-- filters è¿‡æ»¤å™¨ï¼Œå…¨å±€å·¥å…· |-- mock æ¨¡æ‹Ÿæ¥å£ï¼Œä¸´æ—¶å­˜æ”¾ |-- router è·¯ç”±ï¼Œç»Ÿä¸€ç®¡ç† |-- store vuex, ç»Ÿä¸€ç®¡ç† |-- mixins mixinsï¼Œç»Ÿä¸€ç®¡ç† |-- utils å…¶ä»–å·¥å…·ï¼Œbus.jsã€common.js |-- views è§†å›¾ç›®å½• | |-- base åŸºç¡€è§†å›¾ï¼Œå¦‚ Headerã€Sidebarã€Loginç­‰ | |-- role roleæ¨¡å—å | |-- |-- RoleList.vue roleåˆ—è¡¨é¡µé¢ | |-- |-- RoleAdd.vue roleæ–°å»ºé¡µé¢ | |-- |-- RoleUpdate.vue roleæ›´æ–°é¡µé¢ | |-- employee employeeæ¨¡å— powered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-20 17:51:13 "},"specification/html-add-css.html":{"url":"specification/html-add-css.html","title":"HTML & CSS","keywords":"","body":"HTML & CSS HTML è§„èŒƒï¼ˆé€‚ç”¨äº Vue Templateï¼‰ è¯­æ³• æ ‡ç­¾å¿…é¡»åˆæ³•ä¸”é—­åˆã€åµŒå¥—æ­£ç¡® æ ‡ç­¾åå’Œå±æ€§åã€ID éœ€å°å†™ï¼Œç”¨ä¸­åˆ’çº¿åšåˆ†éš”ç¬¦ åœ¨å±æ€§ä¸Šï¼Œä½¿ç”¨åŒå¼•å·ï¼Œä¸è¦ä½¿ç”¨å•å¼•å· ç¼©è¿› åµŒå¥—çš„èŠ‚ç‚¹åº”è¯¥ç¼©è¿› ç¼©è¿›ä½¿ç”¨ 2 ä¸ªç©ºæ ¼ï¼ˆä¸€ä¸ª tabï¼‰ åŸåˆ™ å°½é‡éµå¾ª HTML æ ‡å‡†å’Œè¯­ä¹‰ï¼Œä½†æ˜¯ä¸åº”è¯¥ä»¥æµªè´¹å®ç”¨æ€§ä½œä¸ºä»£ä»·ï¼Œä»»ä½•æ—¶å€™éƒ½è¦ç”¨å°½é‡å°çš„å¤æ‚åº¦å’Œå°½é‡å°‘çš„æ ‡ç­¾æ¥è§£å†³é—®é¢˜ã€‚ CSS è§„èŒƒ å‘½å ç±»åä½¿ç”¨å°å†™å­—æ¯ï¼Œä»¥ä¸­åˆ’çº¿åˆ†éš” scss ä¸­çš„å˜é‡ã€å‡½æ•°ã€æ··åˆã€placeholderé‡‡ç”¨é©¼å³°å¼å‘½å ç±»åçš„å‘½åéœ€éµå¾ªä¸¥è°¨æ€§ é€‰æ‹©å™¨ å¦‚æ— ç‰¹å®šè¦æ±‚ï¼Œç¦æ­¢é€šè¿‡ id é€‰æ‹©å™¨å®šä¹‰æ ·å¼ï¼Œä»¥å… id å˜åŠ¨å¼•èµ·é¡µé¢å¸ƒå±€é”™ä¹± é¿å…ä½¿ç”¨æ ‡ç­¾é€‰æ‹©å™¨ å°½é‡ä½¿ç”¨ç¼©å†™å±æ€§ æ ¼å¼ çœç•¥ 0 åé¢çš„å•ä½ æ¯ä¸ªé€‰æ‹©å™¨åŠå±æ€§ç‹¬å ä¸€è¡Œ ç¼©è¿›ä½¿ç”¨ 2 ä¸ªç©ºæ ¼ï¼ˆä¸€ä¸ª tabï¼‰ å±æ€§å€¼å‰åŠ ä¸Šç©ºæ ¼ æ¯ä¸ªå±æ€§å£°æ˜æœ«å°¾éƒ½è¦åŠ åˆ†å· /**æ¨è**/ .button, .link { width: 100px; height: 50px; padding: 0; color: #fff; background: #00a0e9; } /**ä¸æ¨è**/ .button, .link { width:100px;height:50px;padding:0px;color:#fff;background:#00a0e9; } powered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2022-05-13 09:55:55 "},"specification/javascript.html":{"url":"specification/javascript.html","title":"JavaScript","keywords":"","body":"JavaScript å‘½å æ–¹æ³•åã€å‚æ•°åã€æˆå‘˜å˜é‡ã€å±€éƒ¨å˜é‡ç»Ÿä¸€ä½¿ç”¨ lowerCamelCase é£æ ¼ã€‚ å˜é‡å‰ç¼€ä¸ºåè¯ã€‚ // æ¨è let maxCount = 10; let tableTitle = 'LoginTable'; // ä¸æ¨è let setCount = 10; let getTitle = 'LoginTable'; æ–¹æ³•åæ¨èåŠ¨è¯+åè¯å½¢å¼ã€‚ // æ¨è showMessage(..) // æ˜¾ç¤ºä¿¡æ¯ getAge(..) // è¿”å› age calcSum(..) // è®¡ç®—æ±‚å’Œå¹¶è¿”å›ç»“æœ createForm(..) // åˆ›å»ºè¡¨å•(é€šå¸¸ä¼šè¿”å›å®ƒ) checkPermission(..) // æ£€æŸ¥æƒé™å¹¶è¿”å› true/false // ä¸æ¨è get() / save() / open() / message() å‡½æ•°æ–¹æ³•å¸¸ç”¨çš„åŠ¨è¯å¯å‚è€ƒğŸ‘‡ get è·å– / set è®¾ç½®, add å¢åŠ  / remove åˆ é™¤ create åˆ›å»º / destory ç§»é™¤ start å¯åŠ¨ / stop åœæ­¢ open æ‰“å¼€ / close å…³é—­, read è¯»å– / write å†™å…¥ load è½½å…¥ / save ä¿å­˜, create åˆ›å»º / destroy é”€æ¯ begin å¼€å§‹ / end ç»“æŸ, backup å¤‡ä»½ / restore æ¢å¤ import å¯¼å…¥ / export å¯¼å‡º, split åˆ†å‰² / merge åˆå¹¶ inject æ³¨å…¥ / extract æå–, attach é™„ç€ / detach è„±ç¦» bind ç»‘å®š / separate åˆ†ç¦», view æŸ¥çœ‹ / browse æµè§ˆ edit ç¼–è¾‘ / modify ä¿®æ”¹, select é€‰å– / mark æ ‡è®° copy å¤åˆ¶ / paste ç²˜è´´, undo æ’¤é”€ / redo é‡åš insert æ’å…¥ / delete ç§»é™¤, add åŠ å…¥ / append æ·»åŠ  clean æ¸…ç† / clear æ¸…é™¤, index ç´¢å¼• / sort æ’åº find æŸ¥æ‰¾ / search æœç´¢, increase å¢åŠ  / decrease å‡å°‘ play æ’­æ”¾ / pause æš‚åœ, launch å¯åŠ¨ / run è¿è¡Œ compile ç¼–è¯‘ / execute æ‰§è¡Œ, debug è°ƒè¯• / trace è·Ÿè¸ª observe è§‚å¯Ÿ / listen ç›‘å¬, build æ„å»º / publish å‘å¸ƒ input è¾“å…¥ / output è¾“å‡º, encode ç¼–ç  / decode è§£ç  encrypt åŠ å¯† / decrypt è§£å¯†, compress å‹ç¼© / decompress è§£å‹ç¼© pack æ‰“åŒ… / unpack è§£åŒ…, parse è§£æ / emit ç”Ÿæˆ connect è¿æ¥ / disconnect æ–­å¼€, send å‘é€ / receive æ¥æ”¶ download ä¸‹è½½ / upload ä¸Šä¼ , refresh åˆ·æ–° / synchronize åŒæ­¥ update æ›´æ–° / revert å¤åŸ, lock é”å®š / unlock è§£é” check out ç­¾å‡º / check in ç­¾å…¥, submit æäº¤ / commit äº¤ä»˜ push æ¨ / pull æ‹‰, expand å±•å¼€ / collapse æŠ˜å  begin èµ·å§‹ / end ç»“æŸ, start å¼€å§‹ / finish å®Œæˆ enter è¿›å…¥ / exit é€€å‡º, abort æ”¾å¼ƒ / quit ç¦»å¼€ obsolete åºŸå¼ƒ / depreciate åºŸæ—§, collect æ”¶é›† / aggregate èšé›† ä»£ç è§„èŒƒ ä½¿ç”¨ 2 ä¸ªç©ºæ ¼è¿›è¡Œç¼©è¿› ä¸åŒé€»è¾‘ã€ä¸åŒè¯­ä¹‰ã€ä¸åŒä¸šåŠ¡çš„ä»£ç ä¹‹é—´æ’å…¥ä¸€ä¸ªç©ºè¡Œåˆ†éš”å¼€æ¥ä»¥æå‡å¯è¯»æ€§ã€‚ è¯´æ˜ï¼šä»»ä½•æƒ…å½¢ï¼Œæ²¡æœ‰å¿…è¦æ’å…¥å¤šä¸ªç©ºè¡Œè¿›è¡Œéš”å¼€ã€‚ ç»Ÿä¸€ä½¿ç”¨å•å¼•å·(')ï¼Œä¸ä½¿ç”¨åŒå¼•å·(\")ã€‚è¿™åœ¨åˆ›å»º HTML å­—ç¬¦ä¸²éå¸¸æœ‰å¥½å¤„ã€‚ å¯¹ä¸Šä¸‹æ–‡ this çš„å¼•ç”¨åªèƒ½ä½¿ç”¨ self æ¥å‘½å æ³¨é‡Š å•è¡Œæ³¨é‡Š // è¿™ä¸ªå‡½æ•°çš„æ‰§è¡Œæ¡ä»¶ï¼Œæ‰§è¡Œç»“æœå¤§æ¦‚è¯´æ˜ dosomthing() å¤šè¡Œæ³¨é‡Š /* * xxxx æè¿°è¾ƒå¤šçš„æ—¶å€™å¯ä»¥ä½¿ç”¨å¤šè¡Œæ³¨é‡Š * xxxx */ dosomthing(); å‡½æ•°(æ–¹æ³•)æ³¨é‡Š /** * æ ¼å¼åŒ–é¢˜ç›®ä¿¡æ¯ * @param question é¢˜ç›®ä¿¡æ¯ * @param displayTypes é¢˜ç›®æ˜¾ç¤ºå†…å®¹ï¼Œé»˜è®¤å…¨éƒ¨æ˜¾ç¤º * @param analysisType æŒ‡å®šé¢˜ç›®è§£æç±»å‹ï¼Œé»˜è®¤æ˜¾ç¤ºå›¾ä¹¦è§£æ * @returns [] æ ¼å¼åŒ–åçš„æ•°ç»„ */ formatQuestion(question, displayTypes = [1, 2, 3, 4, 5, 6, 7, 8], analysisType = 2) { ... } powered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-23 14:28:08 "},"specification/vue.html":{"url":"specification/vue.html","title":"Vue","keywords":"","body":"Vue å®˜æ–¹è§„èŒƒ æ‰€æœ‰ä»£ç å‡éœ€éµå¾ª Vue å®˜æ–¹è§„èŒƒä¸­çš„ A ç±»è§„èŒƒå’Œ B ç±»è§„èŒƒã€‚ çº¦å®š å•æ–‡ä»¶ç»„ä»¶çš„é¡¶çº§æ ‡ç­¾åº”è¯¥æ€»æ˜¯æŒ‰ç…§ ã€ å’Œ çš„é¡ºåºç¼–å†™ã€‚ // æ¨è ... /* ... */ /* ... */ // ä¸æ¨è /* ... */ /* ... */ ... æ ‡ç­¾å†…éƒ¨åº”è¯¥æ€»æ˜¯æŒ‰ç…§ name mixins components props data methods computed watch filters directives é’©å­å‡½æ•°çš„é¡ºåºç¼–å†™ã€‚ ä¸‹åˆ—æƒ…å†µéœ€æ³¨é‡Šï¼š å…¬å…±ç»„ä»¶ä½¿ç”¨è¯´æ˜ store ä¸­çš„ state, mutation, action ç­‰å¿…é¡»åŠ æ³¨é‡Š vue æ–‡ä»¶ä¸­çš„ template å¿…é¡»åŠ æ³¨é‡Šï¼Œè‹¥æ–‡ä»¶è¾ƒå¤§æ·»åŠ  start end æ³¨é‡Š vue æ–‡ä»¶çš„ methodsï¼Œæ¯ä¸ª method å¿…é¡»æ·»åŠ æ³¨é‡Š vue æ–‡ä»¶çš„ data, éå¸¸è§å•è¯è¦åŠ æ³¨é‡Š powered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-15 17:13:57 "},"specification/compatibility.html":{"url":"specification/compatibility.html","title":"é¡µé¢å…¼å®¹","keywords":"","body":"é¡µé¢å…¼å®¹ éœ€å…¼å®¹åˆ†è¾¨ç‡1366x768~1920x1080ï¼Œæ‹–å¤§å’Œç¼©å°çª—å£ï¼Œé¡µé¢å¸ƒå±€ä¸ä¼šå‘ç”Ÿé”™ä½ã€‚ powered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2022-04-18 17:20:24 "},"specification/tool.html":{"url":"specification/tool.html","title":"å·¥å…·","keywords":"","body":"å·¥å…· å‰ç«¯ä»£ç è§„èŒƒåŒ–çš„å·¥å…·æœ‰ä»¥ä¸‹ä¸‰ç§ï¼š EditorConfig: ä¸“æ³¨äºç»Ÿä¸€ç¼–è¾‘å™¨ç¼–ç é£æ ¼é…ç½® Prettier: ä¸“æ³¨äºæ£€æŸ¥å¹¶è‡ªåŠ¨æ›´æ­£ä»£ç é£æ ¼ï¼Œç¾åŒ–ä»£ç  Eslint: ä¸“æ³¨äº JavaScript ä»£ç è´¨é‡æ£€æŸ¥, ç¼–ç é£æ ¼çº¦æŸç­‰ EditorConfig ä¸åŒçš„å¼€å‘äººå‘˜ï¼Œä¸åŒçš„ç¼–è¾‘å™¨ï¼Œæœ‰ä¸åŒçš„ç¼–ç é£æ ¼ï¼Œè€Œ EditorConfig å°±æ˜¯ç”¨æ¥ååŒå›¢é˜Ÿå¼€å‘äººå‘˜ä¹‹é—´çš„ä»£ç é£æ ¼åŠæ ·å¼è§„èŒƒåŒ–çš„ä¸€ä¸ªå·¥å…·ï¼Œè€Œ .editorconfig æ­£æ˜¯å®ƒçš„é»˜è®¤é…ç½®æ–‡ä»¶ã€‚ ä¸­å°æ¯ä¸ªé¡¹ç›®ä¸‹éƒ½æœ‰ .editorconfig ï¼Œä¸‹é¢æ˜¯å¸¸è§„é…ç½®å’Œä¸»æµç¼–è¾‘å™¨ä¸­ä½¿ç”¨å®ƒçš„æ–¹æ³•ã€‚ æ¨èé…ç½® # è¡¨ç¤ºä¸ºæœ€é¡¶å±‚çš„é…ç½®æ–‡ä»¶ï¼Œä¸ä¼šå†å‘ä¸ŠæŸ¥æ‰¾ root = true [*] # å­—ç¬¦é›† charset=utf-8 # æ¢è¡Œç¬¦ end_of_line=lf # ç¼©è¿›é£æ ¼ indent_style=space # ç¼©è¿›å¤§å° indent_size=2 # æ˜¯å¦åœ¨æ–‡ä»¶çš„æœ€åæ’å…¥ä¸€ä¸ªç©ºè¡Œ insert_final_newline=true # æ˜¯å¦åˆ é™¤è¡Œå°¾çš„ç©ºæ ¼ trim_trailing_whitespace=true # å¼ºåˆ¶åœ¨æŒ‡å®šçš„å­—ç¬¦æ•°ä¹‹åè¿›è¡Œå¼ºåˆ¶æ¢è¡Œ max_line_length=120 [*.md] trim_trailing_whitespace=false æ›´å¤šé…ç½®è¯¦æƒ…å¯è§å®˜æ–¹æ–‡æ¡£ã€‚ åœ¨ WebStorm å¯ç”¨ EditorConfig æ‰“å¼€ WebStorm > Preferences æ‰¾åˆ° Editor > Code Style å¹¶ç‚¹å‡» æ‰¾åˆ° Enable EditorConfig supporté€‰é¡¹ï¼Œå‹¾é€‰å®ƒå‰é¢çš„å¤é€‰æ¡†å³å¯ åœ¨ VS Code å¯ç”¨ EditorConfig åœ¨ç¼–è¾‘å™¨å†…ï¼Œæœç´¢å¹¶å®‰è£…æ’ä»¶ EditorConfig for VS Code ï¼Œç„¶åå¯ç”¨å³å¯ã€‚ Prettier Prettier åªå…³æ³¨æ ¼å¼åŒ–ï¼Œå¹¶ä¸å…·æœ‰æ£€æŸ¥è¯­æ³•ç­‰èƒ½åŠ›ã€‚å®ƒé€šè¿‡è§£æä»£ç å¹¶åŒ¹é…è‡ªå·±çš„ä¸€å¥—è§„åˆ™ï¼Œæ¥å¼ºåˆ¶æ‰§è¡Œä¸€è‡´çš„ä»£ç å±•ç¤ºæ ¼å¼ã€‚ å®ƒçš„é…ç½®æ–‡ä»¶æœ‰å¾ˆå¤šç§ï¼Œé€šå¸¸æˆ‘ä»¬ä½¿ç”¨ .prettierrc è¿›è¡Œé…ç½®ã€‚ æ¨èé…ç½® { \"singleQuote\": true, // ä½¿ç”¨å•å¼•å· \"semi\": false, // åœ¨è¯­å¥æœ«å°¾ä¸æ·»åŠ åˆ†å· \"arrowParens\": \"avoid\", // ç®­å¤´å‡½æ•°å‚æ•°å°½å¯èƒ½é¿å…ä½¿ç”¨åœ†æ‹¬å·åŒ…è£¹ \"bracketSpacing\": true, // ä¿ç•™å¯¹è±¡å†…ä¾§ä¸¤ç«¯çš„ç©ºæ ¼ \"embeddedLanguageFormatting\": \"auto\", // Prettier è‡ªåŠ¨è¯†åˆ«å¹¶æ ¼å¼åŒ–åµŒå…¥å¼•ç”¨ä»£ç  \"htmlWhitespaceSensitivity\": \"css\", // HTML æ–‡ä»¶çš„ç©ºæ ¼æ•æ„Ÿåº¦å’Œ css çš„ display å±æ€§ä¿æŒä¸€è‡´ \"insertPragma\": false, // åœ¨æ–‡ä»¶çš„ç¬¬ä¸€ä¸ªdocblockæ³¨é‡Šä¸­ä¸æ’å…¥@format pragma \"jsxBracketSameLine\": false, // å¤šè¡Œ JSX çš„å…ƒç´ ä¸å’Œå±æ€§åŒè¡Œï¼Œåœ¨å¤šè¡ŒJSXå…ƒç´ çš„æœ€åä¸€è¡Œä¸è¿½åŠ  > \"jsxSingleQuote\": false, // JSXä¸­ä¸ä½¿ç”¨å•å¼•å· \"printWidth\": 120, // æ‰“å°å®½åº¦ \"proseWrap\": \"never\", // å¯¹äº markdown æ–‡ä»¶çš„æ®µè½ä¸æ‰§è¡Œè¶…å‡ºé•¿åº¦æ¢è¡Œ \"quoteProps\": \"as-needed\", // åªå¯¹å¯¹è±¡ä¸­éœ€è¦çš„å±æ€§ä½¿ç”¨å¼•å· \"requirePragma\": false, // é™åˆ¶åªæ ¼å¼åŒ–åœ¨æ–‡ä»¶é¡¶éƒ¨åšäº†éœ€æ ¼å¼åŒ–æ ‡è¯†çš„æ–‡ä»¶ \"tabWidth\": 2, // ç¼©è¿›æ‰€å åˆ—æ•° \"trailingComma\": \"none\", // å¤šè¡Œæ—¶ä¸åœ¨ç»“å°¾æ·»åŠ é€—å· \"useTabs\": false, // ç¼©è¿›é£æ ¼ä¸ä½¿ç”¨Tab \"vueIndentScriptAndStyle\": true // æ˜¯å¦å¯¹ Vue æ–‡ä»¶ä¸­ å’Œ æ ‡ç­¾å†…çš„ä»£ç åº”ç”¨ç¼©è¿› } å®‰è£… Prettier æ’ä»¶ WebStormï¼šæ’ä»¶åœ°å€ VS Codeï¼šåœ¨ç¼–è¾‘å™¨å†…ï¼Œæœç´¢å¹¶å®‰è£…æ’ä»¶ Prettier ï¼Œç„¶åå¯ç”¨å³å¯ã€‚ Eslint Eslint çš„å…³æ³¨ç‚¹æ˜¯ä»£ç è´¨é‡ï¼Œå®ƒé€šè¿‡é…ç½® .eslintrc.js åˆ¶å®šå›¢é˜Ÿä»£ç è§„èŒƒã€‚å®ƒçš„ç›®çš„æ˜¯ä¿è¯ä»£ç è§„èŒƒçš„ä¸€è‡´æ€§å’ŒåŠæ—¶å‘ç°ä»£ç é—®é¢˜ã€æå‰é¿å…é”™è¯¯å‘ç”Ÿã€‚ æ¨èé…ç½® module.exports = { root: true, env: { es6: true, browser: true, node: true, commonjs: true, amd: true }, extends: ['plugin:vue/essential', '@vue/standard'], parserOptions: { ecmaVersion: 12, sourceType: 'module', parser: 'babel-eslint' }, plugins: ['vue', 'prettier'], // add your custom rules here //it is base on https://github.com/vuejs/eslint-config-vue 'rules': { 'no-console': process.env.NODE_ENV === 'production' ? 'error' : 'off', 'no-debugger': process.env.NODE_ENV === 'production' ? 'error' : 'off', } } VS Code é…ç½®æ–‡ä»¶ settings.json æ˜¯ VS Code çš„é…ç½®æ–‡ä»¶ï¼Œé¡¹ç›®ä¸‹çš„ settings.json å¯ä»¥ç»Ÿä¸€å›¢é˜Ÿæ ¼å¼åŒ–çš„é€»è¾‘ï¼Œå‡å°‘ä¸å¿…è¦çš„å†²çªã€‚ æ¨èé…ç½® { \"editor.formatOnSave\": false, \"editor.codeActionsOnSave\": { \"source.fixAll.eslint\": false }, \"javascript.format.semicolons\": \"remove\", // è®©veturä½¿ç”¨vsè‡ªå¸¦çš„jsæ ¼å¼åŒ–å·¥å…·ï¼Œä»¥ä¾¿åœ¨å‡½æ•°å‰é¢åŠ ä¸ªç©ºæ ¼ \"vetur.format.defaultFormatter.js\": \"vscode-typescript\", // æŒ‡å®š *.vue æ–‡ä»¶çš„æ ¼å¼åŒ–å·¥å…·ä¸ºvetur \"[vue]\": { \"editor.defaultFormatter\": \"octref.vetur\" }, // æŒ‡å®š *.js æ–‡ä»¶çš„æ ¼å¼åŒ–å·¥å…·ä¸ºvscodeè‡ªå¸¦ \"[javascript]\": { \"editor.defaultFormatter\": \"vscode.typescript-language-features\" }, // é»˜è®¤ä½¿ç”¨prettieræ ¼å¼åŒ–æ”¯æŒçš„æ–‡ä»¶ \"editor.defaultFormatter\": \"esbenp.prettier-vscode\", \"vetur.validation.template\": false, \"vetur.format.scriptInitialIndent\": true, \"vetur.format.styleInitialIndent\": true } powered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-22 17:26:50 "},"git/":{"url":"git/","title":"Git è§„èŒƒ","keywords":"","body":"Git è§„èŒƒ Branch master master ä¸ºä¸»åˆ†æ”¯ï¼Œä¹Ÿæ˜¯ç”¨äºéƒ¨ç½²ç”Ÿäº§ç¯å¢ƒçš„åˆ†æ”¯ master åˆ†æ”¯ä¸€èˆ¬ç”±å·²æµ‹è¯•é€šè¿‡çš„å¼€å‘åˆ†æ”¯å’Œ hotfix åˆ†æ”¯åˆå¹¶ï¼Œä¸èƒ½ç›´æ¥æäº¤ hotfix çº¿ä¸Šå‡ºç°ç´§æ€¥é—®é¢˜éœ€è¦ä¿®å¤æ—¶ï¼Œä»¥ master åˆ†æ”¯ä¸ºåŸºçº¿ï¼Œåˆ›å»º hotfix åˆ†æ”¯ ä¿®å¤å®Œæˆåï¼Œéœ€è¦åˆå¹¶åˆ° master åˆ†æ”¯å’Œå¼€å‘åˆ†æ”¯ å¼€å‘åˆ†æ”¯ å¼€å‘æ–°éœ€æ±‚æ—¶ï¼ŒåŸºäº master åˆ†æ”¯åˆ›å»ºå¼€å‘åˆ†æ”¯ åˆ†æ”¯å‘½åï¼šmodule-versionï¼Œå¦‚æ–‡åº“ 5.7 ç‰ˆæœ¬çš„å¼€å‘åˆ†æ”¯å°±æ˜¯ doc-5.7ã€‚æ— ç‰ˆæœ¬å·æ—¶ï¼Œå¯ç”¨éœ€æ±‚å†…å®¹å‘½å test test ä¸ºæµ‹è¯•åˆ†æ”¯ï¼Œå³ç”¨äºéƒ¨ç½²æµ‹è¯•ç¯å¢ƒçš„åˆ†æ”¯ å¼€å‘åˆ†æ”¯å’Œ hotfix åˆ†æ”¯çš„ä»£ç å®Œæˆåï¼Œå‡éœ€åˆå¹¶åˆ°æ­¤åˆ†æ”¯ï¼Œå¹¶æäº¤æµ‹è¯• Commit é’ˆå¯¹ç°æœ‰æƒ…å†µï¼Œçº¦å®šæ ¼å¼ä¸º module-versionï¼štype descriptionã€‚å…¶ä¸­ module ä¸ºæ¨¡å—åï¼Œversion ä¸ºç‰ˆæœ¬å·ï¼Œtypeä¸º commit çš„ç±»å‹ï¼Œdescription ä¸ºå¯¹æ‰€æäº¤ä»£ç çš„æè¿°ã€‚ type å…·ä½“è¯´æ˜å¦‚ä¸‹ï¼Œå½“ä¸€æ¬¡æ”¹åŠ¨åŒ…æ‹¬ä¸»è¦ type ä¸ç‰¹æ®Š type æ—¶ï¼Œç»Ÿä¸€é‡‡ç”¨ä¸»è¦ typeã€‚ # ä¸»è¦type add å¢åŠ æ–°åŠŸèƒ½ remove åˆ é™¤éƒ¨åˆ†ä»£ç ã€åŠŸèƒ½ update å¯¹å·²æœ‰åŠŸèƒ½è¿›è¡Œæ›´æ”¹æˆ–ä¼˜åŒ– fix ä¿®å¤bug # ç‰¹æ®Štype docs: åªæ”¹åŠ¨äº†æ–‡æ¡£ç›¸å…³çš„å†…å®¹ style: ä¸å½±å“ä»£ç å«ä¹‰çš„æ”¹åŠ¨ï¼Œä¾‹å¦‚å»æ‰ç©ºæ ¼ã€æ”¹å˜ç¼©è¿›ã€å¢åˆ åˆ†å· build: æ„é€ å·¥å…·çš„æˆ–è€…å¤–éƒ¨ä¾èµ–çš„æ”¹åŠ¨ï¼Œä¾‹å¦‚webpackï¼Œnpm refactor: ä»£ç é‡æ„æ—¶ä½¿ç”¨ revert: æ‰§è¡Œgit revertæ‰“å°çš„message # æš‚ä¸ä½¿ç”¨type test: æ·»åŠ æµ‹è¯•æˆ–è€…ä¿®æ”¹ç°æœ‰æµ‹è¯• perf: æé«˜æ€§èƒ½çš„æ”¹åŠ¨ ci: ä¸CIï¼ˆæŒç»­é›†æˆæœåŠ¡ï¼‰æœ‰å…³çš„æ”¹åŠ¨ chore: ä¸ä¿®æ”¹srcæˆ–è€…testçš„å…¶ä½™ä¿®æ”¹ï¼Œä¾‹å¦‚æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨ powered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-17 13:22:25 "},"common/previewImg.html":{"url":"common/previewImg.html","title":"æŸ¥çœ‹å¤§å›¾","keywords":"","body":"v-preview-img æ’ä»¶åŠŸèƒ½ï¼šé¢„è§ˆå•å¼ /ä¸€ç»„å›¾ç‰‡çš„å¤§å›¾ å®‰è£… npm install --save v-preview-img ä½¿ç”¨ç¤ºä¾‹ import previewImg from 'v-preview-img' export default { name: 'app', components: { previewImg }, data() { return { options: { initImageIndex: 1 }, previewImages: [ 'http://git.tsingzone.com/uploads/user/avatar/49/22771955.jpeg', 'http://git.tsingzone.com/uploads/user/avatar/49/22771955.jpeg' ] } }, methods: { exitPreview() { // ... } } } ä½¿ç”¨è¯´æ˜ Props data é¢„è§ˆå›¾ç‰‡çš„é˜Ÿåˆ— type: array default: ['http://git.tsingzone.com/uploads/user/avatar/49/22771955.jpeg'] valid: val.length > 0 options é¢„è§ˆå›¾ç‰‡é€‰é¡¹ type: object default: { initImageIndex: 0, // é…ç½®åˆå§‹ä½ç½®ï¼Œé»˜è®¤ä¸º0 zoom: true, // é…ç½®ç¼©æ”¾åŠŸèƒ½ï¼Œé»˜è®¤å¼€å¯ rotate: true, // é…ç½®æ—‹è½¬åŠŸèƒ½ï¼Œé»˜è®¤å¼€å¯ drag: false, // é…ç½®æ‹–æ‹½åŠŸèƒ½ï¼ˆå›¾ç‰‡æ˜¾ç¤ºä¸å…¨æ—¶ï¼‰ï¼Œé»˜è®¤å…³é—­ closeOnClickMask: false // æ˜¯å¦ç‚¹å‡»é®ç½©å±‚é€€å‡ºé¢„è§ˆï¼Œé»˜è®¤å¦ } exit é€€å‡ºé¢„è§ˆåçš„æ–¹æ³• type: function default: function() {} æ•ˆæœé¢„è§ˆ powered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2022-05-13 13:57:39 "},"common/textEllipsis.html":{"url":"common/textEllipsis.html","title":"æ–‡æœ¬çœç•¥","keywords":"","body":"text-ellipsis ç»„ä»¶åŠŸèƒ½ï¼šæ˜¾ç¤ºæŒ‡å®šè¡Œæ•°æ–‡å­—ï¼Œæ”¯æŒå±•å¼€ ç»„ä»¶ä»£ç  å±•å¼€ export default { name: \"text-ellipsis\", props: { line: { type: Number, default: 2 }, text: { type: String, default: '' }, backgroundColor: { type: String, default: '#fff' } }, data() { return { isEllipsis: true } }, methods: { // è®¡ç®—æ–‡æœ¬å†…å®¹æ˜¯å¦æº¢å‡º calcEllipsisStatus() { const wrapper = this.$refs.text return wrapper && wrapper.offsetHeight { this.isEllipsis = this.calcEllipsisStatus() }) } }, computed: { textStyle() { return { '-webkit-line-clamp': this.isEllipsis ? this.line : '' } }, buttonStyle() { return { 'background-color': this.backgroundColor } }, }, watch: { text() { this.init() } }, mounted() { this.init() } } .text-ellipsis { position: relative; .text { overflow: hidden; text-overflow: clip; display: -webkit-box; -webkit-box-orient: vertical; line-height: 1.6; font-size: 14px; } .expand-button { position: absolute; right: 0; bottom: 0; padding: 4px 0px; } } ä½¿ç”¨ç¤ºä¾‹ import textEllipsis from '../../common/TextEllipsis' export default { name: 'other', components: { textEllipsis }, data() { return { text: '....' } } } ä½¿ç”¨è¯´æ˜ Props line åˆå§‹åŒ–æ˜¾ç¤ºçš„æœ€å¤§è¡Œæ•°ï¼Œé»˜è®¤ä¸º2 text åŸå§‹æ–‡æœ¬å†…å®¹ backgroundColor ç»„ä»¶æ‰€åœ¨å®¹å™¨çš„èƒŒæ™¯é¢œè‰²ï¼Œé»˜è®¤ä¸º'#fff' æ•ˆæœé¢„è§ˆ powered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2022-05-13 13:57:29 "},"common/dateTimeRangePicker.html":{"url":"common/dateTimeRangePicker.html","title":"æ—¶é—´é€‰æ‹©å™¨","keywords":"","body":"date-time-range-picker ç»„ä»¶åŠŸèƒ½ï¼šåŸºäºelement-ui å®ç°çš„æ—¥æœŸå’Œæ—¶é—´é€‰æ‹©å™¨ï¼Œäº¤äº’æ›´å‹å¥½ ç»„ä»¶ä»£ç  {{ rangeSeparator }} æ¸…ç©º const DEFAULTS = { date: { }, time: { start: '00:00', end: '23:45', step: '00:15', } } export default { name: \"date-time-picker\", model: { prop: 'value', event: 'change' }, props: { value: { required: true, validator(val) { return !val || val && Array.isArray(val) } }, rangeSeparator: { type: String, default: '-' }, pickerOptions: { type: Object, default() { return { } } }, placeholders: { type: Array, default() { return [] } } }, data() { return { start: [], end: [], datePickerOptions: Object.assign({}, DEFAULTS.date, this.pickerOptions.date || {}), timePickerOptions: Object.assign({}, DEFAULTS.time, this.pickerOptions.time || {}), } }, methods: { handleStartDateChange(val) { const date = new Date(val) const hours = this.start[1] ? this.start[1].split(':') : [0, 0] date.setHours(...hours) const start = new Date(date).getTime() const end = Math.max(this.value[1], start) this.$emit('change', [start, end]) }, handleStartTimeChange(val) { if (!this.start[0]) { return } const date = new Date(this.start[0]) const hours = val ? val.split(':') : [0, 0] date.setHours(...hours) const start = new Date(date).getTime() const end = Math.max(this.value[1], start) this.$emit('change', [start, end]) }, handleEndDateChange(val) { const date = new Date(val) const hours = this.end[1] ? this.end[1].split(':') : [0, 0] date.setHours(...hours) const end = new Date(date).getTime() const start = Math.min(this.value[0], end) this.$emit('change', [start, end]) }, handleEndTimeChange(val) { if (!this.end[0]) { return } const date = new Date(this.end[0]) const hours = val ? val.split(':') : [0, 0] date.setHours(...hours) const end = new Date(date).getTime() const start = Math.min(this.value[0], end) this.$emit('change', [start, end]) }, handleClear() { this.$emit('change', []) }, updateDateAndTime() { const [start, end] = this.value || [] const formatClock = this.$root.$options.filters['formatClock'] this.start = start ? [start, formatClock(start, 'minute')] : [] this.end = end ? [end, formatClock(end, 'minute')] : [] } }, watch: { value: { handler() { this.updateDateAndTime() }, deep: true, } }, mounted() { this.updateDateAndTime() } } .data-time-picker { width: 100%; display: flex; align-items: center; justify-content: flex-start; > * { margin-right: 8px; &:last-child { margin-right: 0; } } } .date { width: 100px; } .time { width: 60px; } /deep/ { .el-input__prefix { display: none; } .el-input__inner { padding-left: 10px; padding-right: 10px; } } ä½¿ç”¨ç¤ºä¾‹ import DateTimeRangePicker from '../../common/DateTimeRangePicker' export default { name: 'other', components: { DateTimeRangePicker }, data() { return { time: [] } }, methods: { handleChange() { // ... } } } ä½¿ç”¨è¯´æ˜ Props value/v-model ç»„ä»¶ç»‘å®šå€¼ rangeSeparator å¼€å§‹æ—¶é—´å’Œç»“æŸæ—¶é—´çš„åˆ†éš”ç¬¦ pickerOptions é…ç½®é¡¹ï¼ŒpickerOption.dateçš„é…ç½®é¡¹å‚ç…§el-date-pickerï¼ŒpickerOption.timeå‚ç…§el-time-select placeholders å¼€å§‹æ—¥æœŸã€å¼€å§‹æ—¶é—´ã€ç»“æŸæ—¥æœŸã€ç»“æŸæ—¶é—´çš„é€‰æ‹©æ¡†çš„å ä½å†…å®¹ Events change ç»‘å®šå€¼ä¿®æ”¹åè§¦å‘ æ•ˆæœé¢„è§ˆ powered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2022-08-11 10:28:49 "},"common/lazyLoadSelect.html":{"url":"common/lazyLoadSelect.html","title":"æ‡’åŠ è½½é€‰æ‹©å™¨","keywords":"","body":"lazy-load-select ç»„ä»¶åŠŸèƒ½ï¼šåŸºäº element-ui çš„ el-select å¢åŠ æ‡’åŠ è½½æœºåˆ¶ï¼Œé¿å…é€‰é¡¹æ•°æ®å¤ªå¤šæ—¶æ¸²æŸ“å¡é¡¿ã€‚ ç»„ä»¶ä»£ç  filterText = '' \" v-el-select-loadmore=\"() => extraCount += config.step\" > import performanceUtils from '../../utils/performance' export default { name: \"lazy-load-select\", model: { prop: 'value', event: 'change' }, props: { clearable: { type: Boolean, default: false }, disabled: { type: Boolean, default: false }, filterable: { type: Boolean, default: false }, multiple: { type: Boolean, default: false }, remote: { type: Boolean, default: false }, remoteMethod: { type: Function }, reserveKeyword: { type: Boolean, default: false }, placeholder: { type: String, default: '' }, options: { type: Array, default() { return [] } }, value: { required: true, default: '' }, props: { type: Object, default() { return {} } }, }, data() { return { filterText: '', extraCount: 10, // é™¤å·²é€‰ä¸­å¤–ï¼Œé¢å¤–æ˜¾ç¤ºæ¡æ•° selectedIds: '', config: {} } }, methods: { handleFocus(e) { this.$emit('focus', e) }, handleBlur(e) { this.$emit('blur', e) }, handleValueChange(value) { this.$emit('change', value) this.$emit('update:value', value) // ä»…ä½¿ç”¨v-model }, filterMethod: performanceUtils.debounce(function(text) { this.filterText = text }, 300), // åˆå§‹åŒ– init() { const defaultProps = { step: 5, initCount: 10, label: 'name', // æŒ‡å®šé€‰é¡¹åç§°ä¸ºé€‰é¡¹å¯¹è±¡çš„æŸä¸ªå±æ€§å€¼ value: 'id', // æŒ‡å®šé€‰é¡¹çš„å€¼ä¸ºé€‰é¡¹å¯¹è±¡çš„æŸä¸ªå±æ€§å€¼ } this.config = Object.assign({}, defaultProps, this.props, this.config) this.selectedIds = Array.isArray(this.value) ? JSON.parse(JSON.stringify(this.value)) : this.value } }, directives: { \"el-select-loadmore\": (el, binding) => { const SELECTWRAP_DOM = el.querySelector(\".loadmore-select .el-select-dropdown .el-select-dropdown__wrap\") if (SELECTWRAP_DOM) { SELECTWRAP_DOM.addEventListener(\"scroll\", function() { const condition = this.scrollHeight - this.scrollTop - 2 it[label].toLowerCase().includes(filterText)) : allOptions const selectedOptions = filterOptions.filter((item) => selectedIds.includes(item[value])) const loadOptions = filterOptions.slice(0, this.extraCount) const loadOptionIds = loadOptions.map(it => it[value]) const extraOptions = selectedOptions.filter(it => !loadOptionIds.includes(it[value])) return extraOptions.concat(loadOptions) }, }, watch: { value() { this.init() } }, mounted() { this.init() } } ä½¿ç”¨ç¤ºä¾‹ import LazyLoadSelect from '../../common/LazyLoadSelect' export default { name: 'other', components: { LazyLoadSelect }, data() { return { userOptions: [ { userId: 1, userName: 'ç”¨æˆ·1' }, { userId: 2, userName: 'ç”¨æˆ·2' } ] } } } ä½¿ç”¨è¯´æ˜ props value/v-model ç»„ä»¶ç»‘å®šå€¼ options é€‰æ‹©å™¨çš„æ‰€æœ‰é€‰é¡¹ props å±æ€§é…ç½®ï¼Œè¯´æ˜å¦‚ä¸‹ å‚æ•° è¯´æ˜ ç±»å‹ é»˜è®¤å€¼ label æŒ‡å®šé€‰é¡¹åç§°ä¸ºé€‰é¡¹å¯¹è±¡çš„æŸä¸ªå±æ€§å€¼ string 'name' value æŒ‡å®šé€‰é¡¹çš„å€¼ä¸ºé€‰é¡¹å¯¹è±¡çš„æŸä¸ªå±æ€§å€¼ string 'id' initCount æ˜¾ç¤ºé€‰é¡¹çš„åˆå§‹ä¸ªæ•° number 10 step æ¯æ¬¡æ»‘åˆ°åº•éƒ¨æ—¶ï¼Œé€‰é¡¹çš„æ–°å¢ä¸ªæ•° number 5 ä»¥ä¸‹å±æ€§ä¸ el-select ç»„ä»¶ç”¨æ³•ä¸€è‡´ï¼š placeholder ã€clearable ã€disabled ã€filterableã€multipleã€remoteã€remoteMethod ã€reserveKeyword Events change ç»‘å®šå€¼ä¿®æ”¹åè§¦å‘ focus è¾“å…¥æ¡†è·å¾—ç„¦ç‚¹æ—¶è§¦å‘ blur è¾“å…¥æ¡†å¤±å»ç„¦ç‚¹æ—¶è§¦å‘ æ•ˆæœç¤ºä¾‹ powered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2022-08-11 14:28:51 "},"common/animate.html":{"url":"common/animate.html","title":"ç¼“åŠ¨åŠ¨ç”»","keywords":"","body":"ç¼“åŠ¨åŠ¨ç”» // utils/common.js /** * ç¼“åŠ¨åŠ¨ç”» * @param o ç›®æ ‡ç¼“åŠ¨å…ƒç´ , å¿…é¡»; * @param a éœ€è¦å˜åŒ–çš„å±æ€§, å­—ç¬¦ä¸², å¿…é¡», åªå¯¹èƒ½é€šè¿‡obj[attr]æˆ–è€…obj.style[attr]è®¿é—®çš„å±æ€§æœ‰æ•ˆ * @param t ç›®æ ‡æ•°å€¼, å¯é€‰, é»˜è®¤å€¼ä¸º0; * @param r ç¼“åŠ¨é€Ÿç‡, å¯é€‰, é»˜è®¤å€¼ä¸º5; * @param callback å›è°ƒå‡½æ•°, å‚æ•°ä¸ºisEnding, è¡¨ç¤ºåŠ¨ç”»æ˜¯å¦ç»“æŸ, å¯é€‰. */ animate(o, a, t, r, callback) { if(!(o && a)){ return ;} if(typeof callback != 'function'){ callback = function(){} }; t = t || 0; r = r || 5; o = o[a] != undefined ? o : o.style; var unit = typeof o[a] == 'string' && o[a].indexOf('px') > -1 ? 'px' : '' ; var last = 0; (function step(){ var c = parseFloat(o[a]); if (Math.abs((t - c)/r) ç¤ºä¾‹ animate(body, 'scrollTop', 0, 5, isEnding => {}) animate(element, 'width', 300, 50); animate(element, 'height'); æ•ˆæœé¢„è§ˆ powered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2022-08-12 13:47:19 "},"common/file.html":{"url":"common/file.html","title":"æ–‡ä»¶å¤„ç†","keywords":"","body":"æ–‡ä»¶å¤„ç† é€šè¿‡ url è·å–æ–‡ä»¶çš„ blob // utils/file.js /** * é€šè¿‡ url è·å–æ–‡ä»¶çš„ Blob * @param url æ–‡ä»¶åœ°å€ * @returns {Promise} */ getBlobByUrl(url) { return new Promise((resolve, reject) => { var xhr = new XMLHttpRequest() xhr.open(\"GET\", url, true) xhr.responseType = \"blob\" xhr.onload = function() { if (xhr.status === 200) { resolve(xhr.response) } else { reject() } } xhr.send() }) } ç¤ºä¾‹ getBlobByUrl('https://cn.vuejs.org/images/logo.svg').then(data => { ... }) é€šè¿‡ base64 è·å–æ–‡ä»¶çš„ blob // utils/file.js /** * é€šè¿‡ base ä¿¡æ¯è·å–æ–‡ä»¶çš„Blob * @param base64 * @returns {Blob} */ getBlobByBase64(base64) { const array = base64.split(',') const type = array[0].match(/:(.*?);/)[1] const bytes = window.atob(array[1]) // å»æ‰urlçš„å¤´ï¼Œå¹¶è½¬æ¢ä¸ºbyte const ab = new ArrayBuffer(bytes.length) const ia = new Uint8Array(ab) for (var i = 0; i ç¤ºä¾‹ getBlobByBase64('data:image/png;base64,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') é€šè¿‡ blob è¯»å–æ–‡ä»¶ // utils/file.js /** * é€šè¿‡ blob è¯»å–æ–‡ä»¶ * @param blob * @returns {Promise} */ readFileByBlob(blob) { return new Promise((resolve, reject) => { const reader = new FileReader() reader.onload = function () { resolve(reader) } reader.readAsDataURL(blob) }) }, ç¤ºä¾‹ readFileByBlob(file).then(reader => { ... }) é€šè¿‡ url åŠ è½½å›¾ç‰‡ // utils/file.js /** * é€šè¿‡ url åŠ è½½å›¾ç‰‡ * @param url å¯ä»¥é€šè¿‡srcåŠ è½½å‡ºæ¥çš„å›¾ç‰‡åœ°å€ * @param config * @returns {Promise} */ loadImageByUrl(url, config = {}) { return new Promise((resolve, reject) => { const { crossOrigin } = config const image = new Image() crossOrigin && (image.crossOrigin = crossOrigin) image.onload = function () { resolve(image) } image.src = url }) }, ç¤ºä¾‹ loadImageByUrl(formulaImg).then(image => { ... }) è·å–å›¾ç‰‡çš„ base64 // utils/file.js /** * è·å–å›¾ç‰‡çš„ base64 * @param image * @param config * @returns {string} */ getImageBase64(image, config = {}) { const { type = 'image/png', width, height } = config const canvas = document.createElement(\"canvas\") canvas.width = width canvas.height = height canvas.getContext(\"2d\").drawImage(image, 0, 0, width, height) // å°†å›¾ç‰‡ç»˜åˆ¶åˆ°canvasä¸­ return canvas.toDataURL(type, 1) // è½¬æ¢å›¾ç‰‡ä¸ºdataURL }, ç¤ºä¾‹ const src = getImageBase64(image, { width: image.width * 0.5, height: image.height * 0.5, }) é€šè¿‡ blob è·å–å›¾ç‰‡ // utils/file.js /** * é€šè¿‡ blob è·å–å›¾ç‰‡ * @param blob * @returns {Promise} */ getImageByBlob(blob) { return new Promise((resolve, reject) => { this.readFileByBlob(blob).then(reader => { this.loadImageByUrl(reader.result).then(image => { resolve(image) }) }) }) }, ç¤ºä¾‹ const { width, height } = await getImageByBlob(file) å°†æ•°æ®æµè½¬æˆæ–‡ä»¶ // utils/file.js /** * ä¸‹è½½åç«¯è¿”å›çš„æ•°æ®æµ * @param stream æ–‡ä»¶æµ * @param fileName é»˜è®¤çš„æ–‡ä»¶åç§° */ downloadStream(stream, fileName) { if (!stream) { return } const blob = new Blob([stream], { type: 'application/octet-stream' }) // å°†æ–‡ä»¶æµæ”¾åˆ°blobå¯¹è±¡é‡Œé¢ const url = window.URL.createObjectURL(blob) // åˆ›å»ºurl åœ°å€ä¸ºblobå¯¹è±¡ const a = document.createElement(\"a\") document.body.appendChild(a) a.style.display = 'none' a.href = url if (fileName) { a.download = fileName //æ–‡ä»¶å } a.click() document.body.removeChild(a) window.URL.revokeObjectURL(url) }, ç¤ºä¾‹ getBlobByUrl('https://cn.vuejs.org/images/logo.svg').then(data => { downloadStream(data, 'logo-vue.svg') }) powered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2022-05-13 10:25:42 "},"common/filters.html":{"url":"common/filters.html","title":"å…¨å±€è¿‡æ»¤å™¨","keywords":"","body":"å…¨å±€è¿‡æ»¤å™¨ ä»¥ä¸‹è¿‡æ»¤å™¨ä¼šåœ¨ main.js ä¸­æ³¨å†Œï¼Œå¯å…¨å±€ä½¿ç”¨ã€‚ // åœ¨ Template ä¸­ä½¿ç”¨ {{ value | formatDate }} // åœ¨ script ä¸­ä½¿ç”¨ export default { // ... mounted() { const formatTime = this.$root.$options.filters['formatTime'] console.log(formatTime(1639982308970)) } } æ—¶é—´è¿‡æ»¤å™¨ // utils/filters.js /** * æ—¶é—´è¿‡æ»¤å™¨ * @param timestamp æ—¶é—´æˆ³ * @returns {string} æ ¼å¼ç¤ºä¾‹ï¼š2020-09-17 */ const formatDate = function (timestamp) { if (timestamp == '' || timestamp == 'undefined' || timestamp == null || timestamp == 'null' || isNaN(timestamp)) { return '' } let date = new Date(timestamp) let year = date.getFullYear() let month = date.getMonth() + 1 > 9 ? date.getMonth() + 1 : '0' + (date.getMonth() + 1) let day = date.getDate() > 9 ? date.getDate() : '0' + date.getDate() return year + '-' + month + '-' + day } /** * æ—¶é—´è¿‡æ»¤å™¨ * @param timestamp æ—¶é—´æˆ³ * @returns {string} æ ¼å¼ç¤ºä¾‹ï¼š2020-09-17 18:00:00 */ const formatTime = function (timestamp) { if (timestamp == '' || timestamp == 'undefined' || timestamp == null || timestamp == 'null' || isNaN(timestamp)) { return '' } let date = new Date(timestamp) let year = date.getFullYear() let month = date.getMonth() + 1 > 9 ? date.getMonth() + 1 : '0' + (date.getMonth() + 1) let day = date.getDate() > 9 ? date.getDate() : '0' + date.getDate() let hour = date.getHours() > 9 ? date.getHours() : '0' + date.getHours() let minute = date.getMinutes() > 9 ? date.getMinutes() : '0' + date.getMinutes() let second = date.getSeconds() > 9 ? date.getSeconds() : '0' + date.getSeconds() return year + '-' + month + '-' + day + ' ' + hour + ':' + minute + ':' + second } /** * æ—¶é—´è¿‡æ»¤å™¨ * @param length æ—¶é•¿ï¼ˆç§’ï¼‰ * @returns {string} æ ¼å¼ç¤ºä¾‹ï¼š66:55:44 */ const formatLength = function (length) { if (length == '' || length == 'undefined' || length == null || length == 'null' || isNaN(length)) { return '' } let second = parseInt(length) let minute = 0 let hour = 0 let temp = second if (second >= 60) { second = second % 60 minute = (temp - second) / 60 if (minute >= 60) { temp = minute minute = minute % 60 hour = (temp - minute) / 60 } } second = second æ•°å­—è¿‡æ»¤å™¨ // utils/filters.js /** * ç™¾åˆ†æ¯”è¿‡æ»¤å™¨ * @param number æ•°å­— * @returns {string} æ ¼å¼ç¤ºä¾‹ï¼š88.88% */ const percent = function (number) { if (!number) { number = 0 } number = Number(number * 100).toFixed(2); number += \"%\"; return number; } /** * æ•°å­—è¿‡æ»¤å™¨ * @param number æ•°å­— * @param fixed ä¿ç•™å‡ ä½å°æ•° * @returns {*} */ const formatNumber = function (number, fixed = 2) { if (!number || !number.toFixed) { return number } return parseFloat(number.toFixed(fixed)); } powered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2022-05-13 10:24:58 "},"common/performance.html":{"url":"common/performance.html","title":"æ€§èƒ½ä¼˜åŒ–","keywords":"","body":"æ€§èƒ½ä¼˜åŒ– é˜²æŠ– å¯¹äºçŸ­æ—¶é—´å†…è¿ç»­è§¦å‘çš„äº‹ä»¶ï¼Œé˜²æŠ–å°±æ˜¯è®©æŸä¸ªæ—¶é—´æœŸé™å†…ï¼Œäº‹ä»¶å¤„ç†å‡½æ•°åªæ‰§è¡Œä¸€æ¬¡ã€‚ // utils/performance.js /** * é˜²æŠ–ï¼šçŸ­æ—¶é—´å†…å¤§é‡è§¦å‘åŒä¸€äº‹ä»¶ï¼Œåªä¼šæ‰§è¡Œä¸€æ¬¡å‡½æ•° * @param fn éœ€è¦é˜²æŠ–çš„å‡½æ•° * @param delay æ¯«ç§’ï¼Œé˜²æŠ–æœŸé™å€¼ * @returns {Function} */ debounce(fn, delay) { let timer = null return function (...args) { if (timer) { clearTimeout(timer) } timer = setTimeout(() => { fn.apply(this, args) }, delay) } }, ç¤ºä¾‹ const showTop = () => { var scrollTop = document.body.scrollTop || document.documentElement.scrollTop ã€€console.log('æ»šåŠ¨æ¡ä½ç½®ï¼š' + scrollTop) } window.onscroll = debounce(showTop, 1000) èŠ‚æµ å¦‚æœçŸ­æ—¶é—´å†…å¤§é‡è§¦å‘åŒä¸€äº‹ä»¶ï¼Œé‚£ä¹ˆåœ¨å‡½æ•°æ‰§è¡Œä¸€æ¬¡ä¹‹åï¼Œè¯¥å‡½æ•°åœ¨æŒ‡å®šçš„æ—¶é—´æœŸé™å†…ä¸å†å·¥ä½œï¼Œç›´è‡³è¿‡äº†è¿™æ®µæ—¶é—´æ‰é‡æ–°ç”Ÿæ•ˆã€‚ // utils/performance.js /** * èŠ‚æµï¼šçŸ­æ—¶é—´å†…å¤§é‡è§¦å‘åŒä¸€äº‹ä»¶ï¼Œé‚£ä¹ˆåœ¨å‡½æ•°æ‰§è¡Œä¸€æ¬¡ä¹‹åï¼ŒæŒ‡å®šçš„æ—¶é—´æœŸé™å†…ä¸å†å·¥ä½œ * @param fn éœ€è¦èŠ‚æµçš„å‡½æ•° * @param delay æ¯«ç§’ï¼ŒèŠ‚æµæœŸé™å€¼ * @returns {function(...[*]=)} */ throttle(fn, delay) { let last = 0 // ä¸Šæ¬¡è§¦å‘æ—¶é—´ return (...args) => { const now = Date.now() if (now - last > delay) { last = now fn.apply(this, args) } } } ç¤ºä¾‹ const showTop = () => { var scrollTop = document.body.scrollTop || document.documentElement.scrollTop ã€€console.log('æ»šåŠ¨æ¡ä½ç½®ï¼š' + scrollTop) } window.onscroll = throttle(showTop, 1000) powered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2022-05-13 10:23:18 "},"common/check.html":{"url":"common/check.html","title":"æ•°æ®æ£€æµ‹","keywords":"","body":"å„ç±»æ•°æ®æ£€æµ‹ æ˜¯å¦ä¸ºæœ‰æ•ˆçš„æ‰‹æœºå· // utils/check.js /** * æ˜¯å¦æ‰‹æœºå· * @param value * @returns {boolean} */ isPhone(value) { const reg = /^13[0-9]{9}$|14[0-9]{9}$|15[0-9]{9}$|166[0-9]{8}$|17[0-9]{9}$|18[0-9]{9}$|19[89][0-9]{8}$/ return reg.test(value) } ç¤ºä¾‹ isPhone(13655555555) // true æ˜¯å¦ä¸ºæœ‰æ•ˆçš„ url /** * æ˜¯å¦æ˜¯url * @param value * @returns {boolean} */ isUrl(value) { const reg = /^((ht|f)tps?:)\\/\\/[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]$/ return reg.test(value) } ç¤ºä¾‹ isUrl('http://baidu.com') // true æ˜¯å¦ä¸ºæœ‰æ•ˆçš„é‚®ä»¶åœ°å€ /** * æ˜¯å¦æ˜¯é‚®ä»¶ * @param value * @returns {boolean} */ isEmail(value) { const reg = /^\\w+([-+.']\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$/ return reg.test(value) } ç¤ºä¾‹ isEmail('me@qq.com') // true powered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2022-05-13 14:50:04 "},"advanced/use-chrome-performance.html":{"url":"advanced/use-chrome-performance.html","title":"å¦‚ä½•åˆ†æé¡µé¢æ€§èƒ½","keywords":"","body":"Chrome performance ä½¿ç”¨æŒ‡å— ç”¨é€” Chrome performance å¯ä»¥åˆ†æé¡µé¢åœ¨æµè§ˆå™¨è¿è¡Œæ—¶çš„æ€§èƒ½è¡¨ç°ã€‚ å›¾ä¾‹ åŒºåŸŸä»‹ç» åŠŸèƒ½æŒ‰é’®åŒºã€‚ Overview åŒºåŸŸã€‚é¡µé¢æ€§èƒ½çš„é«˜çº§æ±‡æ€»ï¼Œå…¶ä¸­ FPS è¡¨ç¤ºå¸§ç‡ã€ CPU è¡¨ç¤ºCPU å ç”¨ã€NET è¡¨ç¤ºç½‘ç»œè¯·æ±‚ã€‚ ç«ç„°å›¾åŒºåŸŸã€‚CPU æ¨å è¿½è¸ªçš„å¯è§†åŒ–ï¼Œå·¦ä¾§æ˜¯ä¸»çº¿ç¨‹çš„å„ç§äº‹ä»¶åç§°ã€‚ æ•°æ®ç»Ÿè®¡åŒºåŸŸã€‚ä»¥å›¾è¡¨å½¢å¼æ±‡æ€»æ•°æ®ï¼Œå…¶ä¸­ Summary è¡¨ç¤ºç»Ÿè®¡ç»“æœã€Bottom-Up è¡¨ç¤ºäº‹ä»¶æ—¶é•¿é¡ºåºã€Call Tree è¡¨ç¤ºäº‹ä»¶è°ƒç”¨é¡ºåºã€Event log è¡¨ç¤ºæ—¶é—´å‘ç”Ÿçš„å…ˆåé¡ºåºã€‚ è®°å½•è¿è¡Œæ—¶æ€§èƒ½è¡¨ç° ç‚¹å‡» Record æŒ‰é’®å¼€å§‹å½•åˆ¶ï¼ŒæŒ‰é’®åœ¨é¢æ¿å·¦ä¸Šè§’ã€‚ æ‰§è¡Œé¡µé¢äº¤äº’ã€‚ å†æ¬¡ç‚¹å‡» Record æŒ‰é’®ï¼Œåœæ­¢å½•åˆ¶ã€‚ Chrome performance å¤„ç†æ•°æ®åï¼Œåœ¨é¢æ¿ä¸­æ˜¾ç¤ºæ€§èƒ½æŠ¥å‘Šã€‚ åˆ†ææŠ¥å‘Š OverView åŒºåŸŸ FPSï¼šæ¯ç§’å¸§æ•°ã€‚ç»¿è‰²ç«–çº¿è¶Šé«˜ï¼ŒFPS è¶Šé«˜ã€‚FPS å›¾æ ‡ä¸Šçš„çº¢è‰²å—è¡¨ç¤ºé•¿æ—¶é—´å¸§ï¼Œå¾ˆå¯èƒ½ä¼šå‡ºç°å¡é¡¿ã€‚ CPUï¼šCPUèµ„æºæ¶ˆè€—æƒ…å†µã€‚ä»–ä»£è¡¨ç€åœ¨è¿™ä¸ªæ—¶é—´æ®µå†…ï¼ŒCPUåœ¨å„ç§å¤„ç†ä¸Šæ‰€èŠ±è´¹çš„æ—¶é—´ï¼Œè¿™é‡Œçš„å„ç§é¢œè‰²ä¸ Summary é¢æ¿ä¸­çš„é¢œè‰²æ˜¯ç›¸äº’å¯¹åº”çš„ã€‚ NETï¼šæ¯æ¡å½©è‰²æ¨ªæ è¡¨ç¤ºä¸€ç§èµ„æºã€‚æ¨ªæ è¶Šé•¿ï¼Œæ£€ç´¢èµ„æºèŠ±è´¹çš„æ—¶é—´ä¹Ÿå°±è¶Šé•¿ï¼Œæ¯ä¸ªæ¨ªæ çš„æµ…è‰²éƒ¨åˆ†è¡¨ç¤ºç­‰å¾…æ—¶é—´ã€‚ ç«ç„°å›¾ åœ¨ç«ç„°å›¾ä¸Šæœ‰æ—¶ä¼šå‡ºç°å‚ç›´çš„è™šçº¿ã€‚ è“çº¿ï¼šDOMContentLoaded äº‹ä»¶ã€‚ ç»¿çº¿ï¼šé¦–æ¬¡ç»˜åˆ¶çš„æ—¶é—´ã€‚ çº¢çº¿ï¼šloadæ—¶é—´ã€‚ å±•å¼€ Mainï¼Œå¯ä»¥çœ‹åˆ°ä¸»çº¿ç¨‹çš„è¿è¡ŒçŠ¶å†µã€‚X è½´ä»£è¡¨ç€ä¸€ä¸ª eventã€‚é•¿æ¡è¶Šé•¿å°±ä»£è¡¨èŠ±è´¹çš„æ—¶é—´è¶Šé•¿ã€‚Y è½´ä»£è¡¨è°ƒç”¨æ ˆï¼ˆcall stackï¼‰ã€‚åœ¨æ ˆé‡Œï¼Œä¸Šé¢çš„ event è°ƒç”¨äº†ä¸‹é¢çš„ eventã€‚ åœ¨äº‹ä»¶é•¿æ¡çš„å³ä¸Šè§’å¤„ï¼Œå¦‚æœå‡ºç°äº†çº¢è‰²çš„å°ä¸‰è§’ï¼Œè¯´æ˜è¿™ä¸ªäº‹ä»¶éœ€è¦ç‰¹åˆ«æ³¨æ„ã€‚ åŒå‡»è¿™ä¸ªå¸¦æœ‰çº¢è‰²å°ä¸‰è§’çš„äº‹ä»¶ï¼Œåœ¨ Summary é¢æ¿ä¼šçœ‹åˆ°è¯¦ç»†ä¿¡æ¯ã€‚ ç»“åˆç«ç„°å›¾å’Œ Summary åŒºåŸŸå°±å¯ä»¥å®šä½æ€§èƒ½ç“¶é¢ˆï¼Œä»è€Œé’ˆå¯¹æ€§åœ°è¿›è¡Œä¼˜åŒ–ã€‚ powered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-16 15:21:26 "},"advanced/write-unit-test.html":{"url":"advanced/write-unit-test.html","title":"å¦‚ä½•ç¼–å†™å•å…ƒæµ‹è¯•","keywords":"","body":"å‰ç«¯å•å…ƒæµ‹è¯• æµ‹è¯•æ¡†æ¶ Jest Jestï¼Œæ˜¯ç”±Facebookå¼€å‘çš„å•å…ƒæµ‹è¯•æ¡†æ¶ï¼Œä¹Ÿæ˜¯Vueæ¨èçš„æµ‹è¯•è¿è¡Œå™¨ä¹‹ä¸€ã€‚å®˜æ–¹æ–‡æ¡£ï¼šJest @vue/test-utils @vue/test-utilsæ˜¯vueå®˜æ–¹æ¨èçš„vueæµ‹è¯•å·¥å…·ï¼Œä½¿ç”¨è¿™ä¸ªå·¥å…·æˆ‘ä»¬å¯ä»¥æ›´æ–¹ä¾¿åœ°æµ‹è¯•vueé¡¹ç›®ã€‚å®˜æ–¹æ–‡æ¡£ï¼švue-test-utils æ­å»ºåŸºäºjestçš„vueå•å…ƒæµ‹è¯•ç¯å¢ƒ æ–°é¡¹ç›® é€šè¿‡Vue-cliåˆ›é€ æ¨¡æ¿è„šæ‰‹æ¶æ—¶ï¼Œå¯ç”¨å•å…ƒæµ‹è¯•ï¼Œå¹¶ä¸”é€‰æ‹© Jest ä½œä¸ºå•å…ƒæµ‹è¯•æ¡†æ¶ã€‚ å·²æœ‰é¡¹ç›® å®‰è£…ä¾èµ– npm install jest vue-jest babel-jest jest-serializer-vue @vue/test-utils -D æ·»åŠ æ–‡ä»¶ // test/unit/jest.conf.js const path = require('path') module.exports = { verbose: true, testURL:\"http://localhost/\", rootDir: path.resolve(__dirname, '../../'), moduleFileExtensions: [ 'js', 'json', 'vue' ], moduleNameMapper: { '^@/(.*)$': '/src/$1', }, transform: { '^.+\\\\.js$': '/node_modules/babel-jest', '.*\\\\.(vue)$': '/node_modules/vue-jest' }, snapshotSerializers: ['/node_modules/jest-serializer-vue'], setupFiles: ['/test/unit/setup'], mapCoverage: true, coverageDirectory: '/test/unit/coverage', collectCoverageFrom: [ 'src/**/*.{js,vue}', '!src/main.js', '!src/router/index.js', '!**/node_modules/**' ] } // test/unit/setup.js import Vue from 'vue' Vue.config.productionTip = false // test/unit/.eslintrc { \"env\": { \"jest\": true }, \"globals\": { } } é…ç½®package.json \"scripts\": { \"unit\": \"jest --config test/unit/jest.conf.js --watchAll\", \"test\": \"npm run unit\" }, ç¼–å†™ä¸€ä¸ªæµ‹è¯•æ–‡ä»¶ // test/unit/specs/HelloWorld.spec.js import { shallowMount } from '@vue/test-utils'; import HelloWorld from '@commponents/HelloWorld'; describe('', () => { test('should render correct contents', () => { const wrapper = shallowMount(HelloWorld); expect(wrapper.find('.hello h1').text()) .toEqual('Welcome to Your Vue.js App'); }); }); å¯åŠ¨æµ‹è¯• npm run unit jest ä¼šè‡ªåŠ¨æ‰«æé¡¹ç›®ä¸­æ‰€æœ‰ä»¥ .spec.js ç»“å°¾çš„æµ‹è¯•æ–‡ä»¶ï¼Œå¹¶æ‰§è¡Œæµ‹è¯•ç”¨ä¾‹ã€‚ ç¼–å†™è¦ç‚¹ é¦–å…ˆè¦ç¡®å®šå¥½å•å…ƒçš„èŒƒå›´ï¼Œå•å…ƒæµ‹è¯•å¿…é¡»æ˜¯é’ˆå¯¹ç‹¬ç«‹æ¨¡å—çš„æµ‹è¯• ç¼–å†™æµ‹è¯•æ¡ˆä¾‹(test case)ï¼Œæµ‹è¯•æ¡ˆä¾‹å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ç§ï¼š æœ€åŸºç¡€çš„æ¡ˆä¾‹å°±æ˜¯è¾“å…¥ä¸€ä¸ªæ­£ç¡®çš„å‚æ•°æ—¶ï¼Œèƒ½å¤Ÿå¾—åˆ°æ­£ç¡®çš„è¾“å‡ºï¼› å†å‡çº§ä¸€ç‚¹çš„æ¡ˆä¾‹ï¼Œå°±æ˜¯åœ¨è¾“å…¥å‚æ•°å¯¼è‡´ä»£ç å¼‚å¸¸æ—¶ï¼Œèƒ½å¤Ÿå¾—åˆ°å¤„ç†å¼‚å¸¸åçš„ç»“æœï¼Œè€Œä¸æ˜¯è®©ä»£ç é”™è¯¯çš„ç»“æœç›´æ¥æ˜¯ç³»ç»Ÿå¼‚å¸¸è€Œå‡ºç°ï¼› å†å†å‡çº§ä¸€ç‚¹çš„è¯ï¼Œå¯ä»¥é’ˆå¯¹æç«¯æƒ…å†µå’Œè¾¹ç•Œæƒ…å†µè¿›è¡Œç¼–å†™æµ‹è¯•æ¡ˆä¾‹ã€‚ ä»£ç åˆ†æ”¯(branch)ï¼Œä»£ç åˆ†æ”¯æœ€ç®€å•çš„ç†è§£å°±æ˜¯ä»£ç é‡Œçš„ if elseï¼Œä¸åŒçš„åˆ¤æ–­æ¡ä»¶èƒ½å¤Ÿå¾—åˆ°ä¸åŒçš„è¾“å‡ºç»“æœï¼Œé‚£ä¹ˆåœ¨è¿›è¡Œæµ‹è¯•ç¼–å†™çš„æ—¶å€™ï¼Œä¸åŒåˆ†æ”¯çš„ç»“æœéƒ½è¦è¦†ç›–åˆ° mockæ•°æ®ï¼Œå•å…ƒæµ‹è¯•æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå¦‚æœé‡åˆ°ä¸€äº›ç½‘ç»œè¯·æ±‚ã€æ–‡ä»¶I/Oç­‰å‰¯ä½œç”¨å‡½æ•°ï¼Œå»ºè®®ä½¿ç”¨mockæ¨¡æ‹Ÿè¿”å›æ•°æ®ã€‚æœ€ä¸»è¦çš„æ˜¯ä¸èƒ½å‡ºç°å› ä¸ºç½‘ç»œå¼‚å¸¸çš„æƒ…å†µï¼Œå¯¼è‡´æµ‹è¯•æŒ‚æ‰äº†ï¼Œæµ‹è¯•æŒ‚æ‰çš„æƒ…å†µä¸€å®šè¦æ˜¯ä»£ç ç¨‹åºå‡ºé—®é¢˜ï¼Œè€Œä¸æ˜¯å¤–ç•Œæ¡ä»¶å‡ºçš„é—®é¢˜ã€‚ æµ‹è¯•åœºæ™¯ æµ‹è¯•DOMç»“æ„ vue-test-utilsä¸­mountã€shallowã€findã€findAllæ–¹æ³•éƒ½å¯ä»¥è¿”å›ä¸€ä¸ªåŒ…è£¹å™¨å¯¹è±¡ï¼ŒåŒ…è£¹å™¨ä¼šæš´éœ²å¾ˆå¤šå°è£…ã€éå†å’ŒæŸ¥è¯¢å…¶å†…éƒ¨çš„Vueç»„ä»¶å®ä¾‹çš„ä¾¿æ·çš„æ–¹æ³•ã€‚ describe('Test for Test1 Component', () => { let wrapper, vm; beforeEach(() => { wrapper = shallow(Test1, { propsData: { messages: ['bye'] } }); }); test('is a Test1 component', () => { // ä½¿ç”¨Vueç»„ä»¶é€‰æ‹©å™¨ expect(wrapper.is(Test1)).toBe(true); // ä½¿ç”¨CSSé€‰æ‹©å™¨ expect(wrapper.is('.outer')).toBe(true); expect(wrapper.contains('p')).toBe(true) }); }); æµ‹è¯•Props å½“æµ‹è¯•å¯¹çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ é€’æ•°æ®è¿™ä¸€è¡Œä¸ºæ—¶ï¼Œæˆ‘ä»¬æƒ³è¦æµ‹è¯•çš„å½“æˆ‘ä»¬ä¼ é€’ç»™å­ç»„ä»¶ä¸€ä¸ªç‰¹å®šçš„å‚æ•°ï¼Œå­ç»„ä»¶æ˜¯å¦ä¼šæŒ‰ç…§æˆ‘ä»¬æ‰€æ–­è¨€çš„é‚£æ ·å˜ç°ã€‚ describe('éªŒè¯Propsçš„å„ä¸ªå±æ€§', () = > { let wrapper = mount(Test1, { propsData: { messages: ['bye', 'bye', 'bye'] } }); const messages = wrapper.vm.$options.props.messages; test('messages is of type array', () = > { expect(messages.type).toBe(Array) }); test('messages is required', () = > { expect(messages.required).toBeTruthy() }); test('messages has at least length 2', () = > { expect(messages.validator && messages.validator(['a'])).toBeFalsy(); expect(messages.validator && messages.validator(['a', 'a'])).toBeTruthy(); }); wrapper.destroy() }); æµ‹è¯•è‡ªå®šä¹‰äº‹ä»¶ ç»„ä»¶çš„è‡ªå®šä¹‰äº‹ä»¶è¦æµ‹è¯•çš„ç‚¹è‡³å°‘æœ‰ä»¥ä¸‹ä¸¤ä¸ªï¼š æµ‹è¯•äº‹ä»¶ä¼šè¢«æ­£å¸¸è§¦å‘ æµ‹è¯•äº‹ä»¶è¢«è§¦å‘åçš„åç»­è¡Œä¸ºç¬¦åˆé¢„æœŸ // TEST1 ç»„ä»¶ // çœç•¥ä¸€äº›ä»£ç  methods: { addCounter(value) { this.count = value } }, // MyButtonç»„ä»¶ Click {{buttonValue}} {{innerCount}} // çœç•¥ä¸€äº›ä»£ç  data() { return { innerCount: 0 } }, computed: {}, methods: { increment() { this.innerCount += 1; this.$emit('add', this.innerCount) } }, è¦æµ‹è¯•çš„æ˜¯ï¼š å½“MyButtonç»„ä»¶çš„æŒ‰é’®è¢«ç‚¹å‡»åä¼šè§¦å‘incrementäº‹ä»¶ ç‚¹å‡»äº‹ä»¶å‘ç”Ÿåï¼ŒTest1ç»„ä»¶çš„addCounterå‡½æ•°ä¼šè¢«è§¦å‘å¹¶ä¸”ç»“æœç¬¦åˆé¢„æœŸï¼ˆåŠæ•°å­—é€’å¢ï¼‰ describe('Test for MyButton Component', () => { const wrapper = mount(MyButton); test('calls increment when click on button', () => { // mockè‡ªå®šä¹‰äº‹ä»¶ const mockFn = jest.fn() wrapper.vm.$on('add', mockFn); // è§¦å‘æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶ wrapper.find('button').trigger('click'); expect(mockFn).toBeCalled(); expect(mockFn).toHaveBeenCalledTimes(1) }) }); æµ‹è¯•è®¡ç®—å±æ€§ // Test2ç»„ä»¶ï¼Œå®ç°åŠŸèƒ½æ˜¯ä½¿ç”¨è®¡ç®—å±æ€§å°†è¾“å…¥æ¡†è¾“å…¥çš„å­—ç¬¦ç¿»è½¬ è¾“å…¥ï¼š è¾“å‡ºï¼š{{outputValue}} export default { name: 'Test2', props: { needReverse: { type: Boolean, default: false } }, data() { return { inputValue: '' } }, computed: { outputValue () { return this.needReverse ? ([...this.inputValue]).reverse().join('') : this.inputValue } }, methods: {}, components: {} } describe('Test for Test2 Component', () => { let wrapper; beforeEach(() => { wrapper = shallow(Test2); }); afterEach(() => { wrapper.destroy() }); test('returns the string in normal order if reversed property is not true', () => { wrapper.setProps({needReverse: false}); wrapper.vm.inputValue = 'ok'; expect(wrapper.vm.outputValue).toBe('ok') }); test('returns the string in normal order if reversed property is not provided', () => { wrapper.vm.inputValue = 'ok'; expect(wrapper.vm.outputValue).toBe('ok') }); test('returns the string in reversed order if reversed property is true', () => { wrapper.setProps({needReverse: true}); wrapper.vm.inputValue = 'ok'; expect(wrapper.vm.outputValue).toBe('ko') }) }); æµ‹è¯•ç›‘å¬å±æ€§ // ä¸ºTestæ·»åŠ ä¾¦å¬å™¨ watch: { inputValue: function(newValue, oldValue) { if (newValue.trim().length > 0 && newValue !== oldValue) { this.printNewValue(newValue) } } }, methods: { printNewValue(value) { console.log(value) } }, describe('Test watch', () = > { let spy; beforeEach(() = > { wrapper = shallow(Test2); spy = jest.spyOn(console, 'log') }); afterEach(() = > { wrapper.destroy(); spy.mockClear() }); test('is called with the new value in other cases', (done) = > { wrapper.vm.inputValue = 'ok'; wrapper.vm.$nextTick(() = > { expect(spy).toBeCalled(); done() }) }); } æµ‹è¯•æ–¹æ³• å•å…ƒæµ‹è¯•çš„æ ¸å¿ƒä¹‹ä¸€å°±æ˜¯æµ‹è¯•æ–¹æ³•çš„è¡Œä¸ºæ˜¯å¦ç¬¦åˆé¢„æœŸï¼Œåœ¨æµ‹è¯•æ—¶è¦é¿å…ä¸€åˆ‡çš„ä¾èµ–ï¼Œå°†æ‰€æœ‰çš„ä¾èµ–éƒ½mockæ‰ã€‚ // Test3ç»„ä»¶ï¼Œè¾“å…¥é—®é¢˜åï¼Œç‚¹å‡»æŒ‰é’®åï¼Œä½¿ç”¨axioså‘é€HTTPè¯·æ±‚ï¼Œè·å–ç­”æ¡ˆ é—®é¢˜ï¼š click ç­”æ¡ˆï¼š{{answer}} import axios from 'axios'; export default { name: 'Test3', data() { return { inputValue: 'ok?', answer: '', src: '' } }, methods: { getAnswer() { const URL = 'https://yesno.wtf/api'; return axios.get(URL).then(result => { if (result && result.data) { this.answer = result.data.answer; this.src = result.data.imageï¼› return result } }).catch(e => {}) } } } è¿™ä¸ªä¾‹å­é‡Œé¢ï¼Œæˆ‘ä»¬ä»…ä»…å…³æ³¨æµ‹è¯•getAnsweræ–¹æ³•ï¼Œå…¶ä»–çš„å¿½ç•¥æ‰ã€‚ä¸ºäº†æµ‹è¯•è¿™ä¸ªæ–¹æ³•ï¼Œæˆ‘ä»¬éœ€è¦åšçš„æœ‰ï¼š æˆ‘ä»¬ä¸éœ€è¦å®é™…è°ƒç”¨axios.getæ–¹æ³•ï¼Œéœ€è¦å°†å®ƒmockæ‰ æˆ‘ä»¬éœ€è¦æµ‹è¯•æ˜¯å¦è°ƒç”¨äº†axiosæ–¹æ³•ï¼ˆä½†æ˜¯å¹¶ä¸å®é™…è§¦å‘ï¼‰å¹¶ä¸”è¿”å›äº†ä¸€ä¸ªPromiseå¯¹è±¡ è¿”å›çš„Promiseå¯¹è±¡æ‰§è¡Œäº†å›è°ƒå‡½æ•°ï¼Œè®¾ç½®ç”¨æˆ·åå’Œå¤´åƒ åœ¨Test3.spec.jsä¸­ï¼Œé¦–å…ˆå°†axiosä¸­çš„getæ–¹æ³•æ›¿æ¢ä¸ºæˆ‘ä»¬çš„mockå‡½æ•°ï¼Œç„¶åå¼•å…¥ç›¸åº”çš„æ¨¡å— const mockData = { data: { answer: 'mock_yes', image: 'mock.png' } }; jest.mock('axios', () => ({ get: jest.fn(() => Promise.resolve(mockData)) })); import { shallow } from 'vue-test-utils'; import Test3 from '@/components/Test3'; import axios from 'axios'; describe('Test for Test3 Component', () => { let wrapper; beforeEach(() => { axios.get.mockClear(); wrapper = shallow(Test3); }); afterEach(() = > { wrapper.destroy() }); // ç‚¹å‡»æŒ‰é’®åè°ƒç”¨äº† getAnswer æ–¹æ³• test('getAnswer Fn should be called', () => { const mockFn = jest.spyOn(wrapper.vm, 'getAnswer') wrapper.find('button').trigger('click'); expect(mockFn).toBeCalled(); }); // ç‚¹å‡»æŒ‰é’®åè°ƒç”¨äº†axios.getæ–¹æ³• test('axios.get Fn should be called', () => { const URL = 'https://yesno.wtf/api'; wrapper.find('button').trigger('click'); expect(axios.get).toBeCalledWith(URL) }); }); powered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-16 15:23:30 "},"advanced/publish-npm-plugins.html":{"url":"advanced/publish-npm-plugins.html","title":"å¦‚ä½•æ„å»ºæ’ä»¶","keywords":"","body":"Vue.js - æ„å»ºæ’ä»¶å¹¶åœ¨NPMä¸Šå‘å¸ƒ å¼•è¨€ æ’ä»¶åœ¨æˆ‘ä»¬æ—¥å¸¸å¼€å‘ä¸­å¿…ä¸å¯å°‘ï¼Œé‚£ä¹ˆå¦‚ä½•æ„å»ºè‡ªå·±çš„æ’ä»¶å‘¢ï¼Ÿè¿™ç¯‡æ–‡æ¡£ä»¥ v-preview-img æ’ä»¶ä¸ºä¾‹ï¼Œä¾æ¬¡ä»‹ç»æ„å»ºã€æ‰“åŒ…ã€å‘å¸ƒå’Œä½¿ç”¨å››ä¸ªç¯èŠ‚ã€‚ æ„å»ºæ’ä»¶ æ­¥éª¤ 1ï¼šå®‰è£…ä¾èµ– v-preview-img æ’ä»¶æ˜¯åŸºäº Vue CLI å¼€å‘å’Œæ‰“åŒ…çš„ï¼Œæ‰€ä»¥å…ˆè¦å®‰è£…å…¨å±€ä¾èµ–ï¼š $ npm install -g @vue/cli $ npm install -g @vue/cli-service-global å¦‚æœå·²ç»å…¨å±€å®‰è£…äº†æ—§ç‰ˆæœ¬çš„ vue-cli (1.xæˆ–2.x)ï¼Œéœ€è¦å…ˆå¸è½½å†å®‰è£…æ–°ç‰ˆæœ¬ã€‚ æ­¥éª¤ 2ï¼šåˆå§‹åŒ–æ’ä»¶ç›®å½• é¦–å…ˆï¼Œæˆ‘ä»¬å…ˆåˆ›å»ºä¸€ä¸ªç©ºé¡¹ç›®ï¼š $ vue create project-name æ‰§è¡Œå®Œè¿™ä¸ªå‘½ä»¤åä¼šæœ‰ä¸€äº›æç¤ºï¼Œä¸€ç›´å›è½¦å°±å¯ä»¥å•¦ï¼Œé¡¹ç›®ç”Ÿæˆåç›®å½•ç»“æ„å¦‚ä¸‹ï¼š åœ¨æ­¤åŸºç¡€ä¸Šï¼Œæˆ‘æ ¹æ®å®é™…éœ€è¦åˆ æ‰ä¸è¦çš„ï¼Œæ–°å»ºäº† PreviewImg.vue ï¼Œæ­¤æ—¶ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š å¥½äº†ï¼Œè¿™æ—¶å€™æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå°±èƒ½åœ¨æµè§ˆå™¨ä¸­è®¿é—®äº†ï¼š $ vue serve src/PreviewImg.vue æ›´å¤šå…³äºvueå¿«é€ŸåŸå‹å¼€å‘çš„çŸ¥è¯†ï¼Œå¯ä»¥æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ æ­¥éª¤ 3ï¼šå®Œå–„æ’ä»¶ä»£ç  æ¨¡ç‰ˆ Template {{ currentTip }} 0\"> é€€å‡ºé¢„è§ˆ JavaScript export default { name: \"preview-img\", props: { data: { type: Array, default() { return [ 'http://git.tsingzone.com/uploads/user/avatar/49/22771955.jpeg' ] }, validator(data) { return data.length > 0 } }, options: { type: Object, default() { return {} } }, exit: { type: Function, default() { console.log('é€€å‡ºé¢„è§ˆ') } } }, data() { return { defaultOptions: { initImageIndex: 0, }, currentImageUrl: '', currentImageIndex: '', rotate: 0, tipList: [ 'ä¸èƒ½å†æ”¾å¤§äº†å“¦', 'ä¸èƒ½å†ç¼©å°äº†å“¦', 'å‰é¢å·²ç»æ²¡æœ‰äº†', 'å·²ç»æ˜¯æœ€åä¸€å¼ äº†å“¦' ], currentTip: '', size: { actualWidth: 0, width: 'auto', zoom: 1 } } }, methods: { // æ—‹è½¬ rotateImg() { this.rotate = (this.rotate + 1) % 4 }, // é€†å‘æ—‹è½¬ rotateImgBack() { this.rotate = (this.rotate + 3) % 4 }, // æ”¾å¤§ largeImg() { if (this.size.zoom >= 1.5) { this.showTip(0) } else { this.size.zoom = parseFloat(this.size.zoom) + 0.1 this.size.width = this.size.zoom * this.size.actualWidth } }, // ç¼©å° narrowImg() { if (this.size.zoom { this.currentTip = '' }, 1500) }, // æ˜¾ç¤ºå›¾ç‰‡ showImage(index) { this.currentImageIndex = index this.currentImageUrl = this.data[index] // è·å–å›¾ç‰‡å®é™…å°ºå¯¸ this.getImageSize(this.currentImageUrl, this.calcShowSize) }, // è®¡ç®—æœ€ä½³çš„æ˜¾ç¤ºæ¯”ä¾‹ calcShowSize({ width, height }) { const windowWidth = window.innerWidth const windowHeight = window.innerHeight let zoom = 1 if(width > windowWidth || height > windowHeight){ zoom = Math.min(windowWidth/width, windowHeight/height).toFixed(1) zoom = Math.max(zoom, 0.1) } this.size = { actualWidth: width, width: width*zoom, zoom: zoom } }, // è·å–å›¾ç‰‡å°ºå¯¸ getImageSize(url, callback) { const img = new Image() img.src = url // åˆ¤æ–­æ˜¯å¦æœ‰ç¼“å­˜ if(img.complete){ callback({ width: img.width, height: img.height }) }else{ img.onload = function(){ callback({ width: img.width, height: img.height }) } } }, }, mounted() { const options = Object.assign(this.defaultOptions, this.options) this.showImage(options.initImageIndex) } } æ ·å¼ Style .preview-wrapper { margin-top: 30px; } .preview-img { position: fixed; top: 0; right: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5); z-index: 22; overflow: auto; box-sizing: border-box; } .preview-img .image-wrapper { position: fixed; top: 0; width: 100%; height: 100%; z-index: 33; text-align: center; overflow-y: auto; display: flex; padding-bottom: 60px; } .preview-img .image-wrapper .mainImg { cursor: pointer; position: relative; top: 0; bottom: 0; left: 0; right: 0; margin: auto; } .preview-img .side-click { height: 100%; width: 6%; cursor: pointer; } .preview-img .side-click div { position: fixed; z-index: 44; background-color: rgba(40, 40, 40, 0.8); height: 80px; width: 60px; top: 50%; margin-top: -40px; display: flex; align-items: center; justify-content: center; } .preview-img .side-click .clickArrow { width: 50%; } .preview-img .side-click.fl div{ left: 20px; } .preview-img .side-click.fr div{ right: 20px; } .rotate0 { transform: rotate(0deg); } .rotate90 { transform: rotate(90deg); } .rotate180 { transform: rotate(180deg); } .rotate270 { transform: rotate(270deg); } .fr { float: right; } .fl { float: left; } .bottom { position: fixed; width: 100%; z-index: 55; bottom: 0; left: 0; display: flex; justify-content: center; padding: 15px 0; background-color: rgba(0, 0, 0, .4); } .bottom .rotate { height: 30px; cursor: pointer; margin: 0 10px; } .bottom .button { margin: 0 10px; cursor: pointer; padding: 5px 10px; color: #d3d5dc; font-size: 14px; border: 1px solid #d3d5dc; border-radius: 4px; } .bottom .button:hover { color: #333; background: #d3d5dc; } .tip { position: fixed; top: 100px; margin: auto; left: 0; right: 0; background-color: #888; color: #fff; height: 30px; font-size: 14px; line-height: 30px; width: 150px; text-align: center; padding: 0 5px; border-radius: 6px; z-index: 100; } åˆ°è¿™é‡Œï¼Œæ’ä»¶å°±æ„å»ºçš„å·®ä¸å¤šå•¦ï¼Œåç»­å¯ä»¥åƒè¿™æ ·ä½¿ç”¨ï¼š æ‰“åŒ…æ’ä»¶ æ­¥éª¤ 1ï¼š å®Œå–„ package.json æ–‡ä»¶ { \"private\": false, \"name\": \"v-preview-img\", \"version\": \"1.0.9\", \"description\": \"å›¾ç‰‡é¢„è§ˆæ’ä»¶\", \"main\": \"./dist/index.umd.js\", \"files\": [ \"dist\" ], \"author\": \"Shi Fan\", \"license\": \"MIT\", \"scripts\": { \"dev\": \"vue serve src/PreviewImg.vue\", \"lib\": \"vue-cli-service build --target lib --name index --dest dist src/PreviewImg.vue\" }, \"dependencies\": { \"core-js\": \"^3.6.5\", \"vue\": \"^2.6.11\" }, \"devDependencies\": { \"@vue/cli-plugin-babel\": \"~4.5.0\", \"@vue/cli-plugin-eslint\": \"~4.5.0\", \"@vue/cli-service\": \"~4.5.0\", \"babel-eslint\": \"^10.1.0\", \"eslint\": \"^6.7.2\", \"eslint-plugin-vue\": \"^6.2.2\", \"vue-template-compiler\": \"^2.6.11\" }, \"eslintConfig\": { \"root\": true, \"env\": { \"node\": true }, \"extends\": [ \"plugin:vue/essential\", \"eslint:recommended\" ], \"parserOptions\": { \"parser\": \"babel-eslint\" }, \"rules\": {} }, \"browserslist\": [ \"> 1%\", \"last 2 versions\", \"not dead\" ] } è¯´æ˜ private: ä¸º false æ—¶ä»£è¡¨åŒ…ä¸æ˜¯ç§æœ‰çš„ï¼Œæ‰€æœ‰äººéƒ½èƒ½æŸ¥çœ‹å¹¶ npm install name: åç»­å‘å¸ƒåˆ° npm çš„åŒ…åï¼Œè¯·ç¡®ä¿ä½ çš„åŒ…åæœªè¢«æ³¨å†Œï¼Œå¦åˆ™åœ¨å‘å¸ƒæ—¶ä¼šæŠ¥é”™ version: ç‰ˆæœ¬å·ï¼Œåœ¨æ¯æ¬¡å‘å¸ƒæ›´æ–°åˆ° npm æ—¶ï¼Œéƒ½éœ€è¦å¢åŠ ç‰ˆæœ¬å· description: æè¿°ä¿¡æ¯ main: æŒ‡å®šå…¥å£æ–‡ä»¶ï¼Œé»˜è®¤å€¼æ˜¯æ¨¡å—æ ¹ç›®å½•ä¸‹é¢çš„ index.js scripts: æŒ‡å®šä¸€äº›è„šæœ¬å‘½ä»¤çš„ npm å‘½ä»¤è¡Œç¼©å†™ï¼Œè¿™é‡Œçš„ npm run lib å°±æ˜¯æ‰“åŒ…å‘½ä»¤çš„ç¼©å†™ files: æŒ‡å®šå“ªäº›æ–‡ä»¶éœ€è¦è¢«å‘å¸ƒåˆ° npm ä¸Šï¼Œè¿™é‡Œå°±æŒ‡å®šå‘å¸ƒ dist æ–‡ä»¶å¤¹ å¯ä»¥åœ¨ npm å®˜æ–¹æ–‡æ¡£æŸ¥çœ‹æ›´å¤šå…³äº package.json çš„çŸ¥è¯† æ­¥éª¤ 2ï¼šé…ç½®é™æ€èµ„æº vue.config.js module.exports = { chainWebpack: config => { config.module .rule('images') .use('url-loader') .loader('url-loader') .tap(options => Object.assign(options, { limit: 20000 })) }, css: { extract: false } } ä»¥ä¸Šæ˜¯æŒ‡æ‰“åŒ…æ—¶å°†20KBä»¥ä¸‹çš„å›¾ç‰‡è½¬ä¸ºbase64ï¼Œå°†csså¼ºåˆ¶å†…è”ï¼ˆæ— éœ€åœ¨ä½¿ç”¨æ—¶å¦å¤–å¼•ç”¨æ ·å¼ï¼‰ æ­¥éª¤ 3ï¼šæ‰§è¡Œæ‰“åŒ…å‘½ä»¤ $ npm run lib æ‰“åŒ…æˆåŠŸåï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ä¼šç”Ÿæˆä¸€ä¸ª dist æ–‡ä»¶å¤¹ï¼Œé‡Œé¢æœ‰ä¸ª index.umd.js æ–‡ä»¶ã€‚ å‘å¸ƒæ’ä»¶ å®Œæˆå‰é¢ä¸¤ä¸ªç¯èŠ‚ï¼Œæ’ä»¶å°±å®Œæˆå•¦ï¼Œæ¥ä¸‹æ¥å¯ä»¥æŠŠå®ƒå‘å¸ƒåˆ° npm ä¸Šäº†ã€‚ é¦–å…ˆï¼Œæˆ‘ä»¬ä½¿ç”¨ä»¥ä¸‹æŒ‡ä»¤ç™»é™†ï¼Œå¦‚æœè¿˜æ²¡æœ‰è´¦å·çš„è¯å…ˆå»æ³¨å†Œã€‚ $ npm login // å›è½¦åï¼Œè¾“å…¥ä½ æ³¨å†Œnpmjsæ—¶å¡«å†™çš„ç”¨æˆ·åï¼Œå¯†ç å’Œé‚®ç®± // ç™»å½•æˆåŠŸåï¼Œä¼šæç¤ºï¼šLogged in as on https://registry.npmjs.org/. ç™»é™†æˆåŠŸåï¼Œå¼€å§‹å‘å¸ƒï¼š $ npm publish åç»­æ›´æ–°æ’ä»¶ï¼Œåªéœ€è¦å¢åŠ package.jsoné‡Œçš„versionç‰ˆæœ¬å·ï¼Œç„¶åå†æ¬¡æ‰§è¡Œ npm publish å‘å¸ƒæ›´æ–°å°±å¯ä»¥äº†ï¼ ä½¿ç”¨æ’ä»¶ åœ¨é¡¹ç›®ä¸­å®‰è£…æ’ä»¶ npm install --save v-preview-img åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ import previewImg from 'v-preview-img' export default { name: 'app', components: { previewImg }, data() { return { options: { initImageIndex: 1 }, previewImages: [ 'http://git.tsingzone.com/uploads/user/avatar/49/22771955.jpeg', 'http://git.tsingzone.com/uploads/user/avatar/49/22771955.jpeg' ] } }, methods: { exitPreview() { // ... } } } æ•ˆæœé¢„è§ˆ ä»¥ä¸Šå°±æ˜¯æ„å»ºæ’ä»¶çš„æµç¨‹å•¦ï¼Œé™„ä¸Šæ’ä»¶æºä»£ç ã€‚ v-preview-img æ’ä»¶æ¯”è¾ƒç®€å•ï¼Œå®é™…ä¸Šæ’ä»¶çš„èŒƒå›´æ²¡æœ‰é™åˆ¶ï¼Œè¿™é‡Œåˆ—å‡ºæ¥å‡ ç§ä»¥ä½œå‚è€ƒï¼š æ·»åŠ å…¨å±€æ–¹æ³•æˆ–è€…å±æ€§ (å¦‚: vue-custom-element) æ·»åŠ å…¨å±€èµ„æºï¼šæŒ‡ä»¤/è¿‡æ»¤å™¨/è¿‡æ¸¡ç­‰ (å¦‚ï¼švue-touch) é€šè¿‡å…¨å±€ mixin æ–¹æ³•æ·»åŠ ä¸€äº›ç»„ä»¶é€‰é¡¹ (å¦‚ï¼švue-router) æ·»åŠ  Vue å®ä¾‹æ–¹æ³•ï¼Œé€šè¿‡æŠŠå®ƒä»¬æ·»åŠ åˆ° Vue.prototype ä¸Šå®ç° (å¦‚ï¼švue-axios) ä¸€ä¸ªåº“ï¼Œæä¾›è‡ªå·±çš„ APIï¼ŒåŒæ—¶æä¾›ä¸Šé¢æåˆ°çš„ä¸€ä¸ªæˆ–å¤šä¸ªåŠŸèƒ½ï¼ˆå¦‚ï¼švue-routerï¼‰ powered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-16 15:15:45 "}}