
<!DOCTYPE HTML>
<html lang="zh-hans" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>时间选择器 · 文档</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="shifan">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search-pro/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-tbfed-pagefooter/footer.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="lazyLoadSelect.html" />
    
    
    <link rel="prev" href="textEllipsis.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="输入并搜索" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    介绍
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" >
            
                <span>
            
                    
                    开发规范
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../specification/file.html">
            
                <a href="../specification/file.html">
            
                    
                    文件目录
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../specification/html-add-css.html">
            
                <a href="../specification/html-add-css.html">
            
                    
                    HTML & CSS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../specification/javascript.html">
            
                <a href="../specification/javascript.html">
            
                    
                    JavaScript
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../specification/vue.html">
            
                <a href="../specification/vue.html">
            
                    
                    Vue
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="../specification/compatibility.html">
            
                <a href="../specification/compatibility.html">
            
                    
                    页面兼容
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6" data-path="../specification/tool.html">
            
                <a href="../specification/tool.html">
            
                    
                    工具
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../git/">
            
                <a href="../git/">
            
                    
                    Git 规范
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    通用组件/代码
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="previewImg.html">
            
                <a href="previewImg.html">
            
                    
                    查看大图
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="textEllipsis.html">
            
                <a href="textEllipsis.html">
            
                    
                    文本省略
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.4.3" data-path="dateTimeRangePicker.html">
            
                <a href="dateTimeRangePicker.html">
            
                    
                    时间选择器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="lazyLoadSelect.html">
            
                <a href="lazyLoadSelect.html">
            
                    
                    懒加载选择器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="animate.html">
            
                <a href="animate.html">
            
                    
                    缓动动画
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="file.html">
            
                <a href="file.html">
            
                    
                    文件处理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="filters.html">
            
                <a href="filters.html">
            
                    
                    全局过滤器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8" data-path="performance.html">
            
                <a href="performance.html">
            
                    
                    性能优化
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.9" data-path="check.html">
            
                <a href="check.html">
            
                    
                    数据检测
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.10" >
            
                <span>
            
                    
                    持续完善中...
            
                </span>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" >
            
                <span>
            
                    
                    进阶
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../advanced/use-chrome-performance.html">
            
                <a href="../advanced/use-chrome-performance.html">
            
                    
                    如何分析页面性能
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../advanced/write-unit-test.html">
            
                <a href="../advanced/write-unit-test.html">
            
                    
                    如何编写单元测试
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../advanced/publish-npm-plugins.html">
            
                <a href="../advanced/publish-npm-plugins.html">
            
                    
                    如何构建插件
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            本书使用 GitBook 发布
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >时间选择器</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="date-time-range-picker">date-time-range-picker</h1>
<blockquote>
<p>&#x7EC4;&#x4EF6;&#x529F;&#x80FD;&#xFF1A;&#x57FA;&#x4E8E;element-ui &#x5B9E;&#x73B0;&#x7684;&#x65E5;&#x671F;&#x548C;&#x65F6;&#x95F4;&#x9009;&#x62E9;&#x5668;&#xFF0C;&#x4EA4;&#x4E92;&#x66F4;&#x53CB;&#x597D;</p>
</blockquote>
<h3 id="&#x7EC4;&#x4EF6;&#x4EE3;&#x7801;">&#x7EC4;&#x4EF6;&#x4EE3;&#x7801;</h3>
<pre><code class="lang-vue">&lt;!--components/common/DateTimeRangePicker.vue--&gt;
&lt;template&gt;
  &lt;div class=&quot;data-time-picker&quot;&gt;
    &lt;el-date-picker
      v-model=&quot;start[0]&quot;
      type=&quot;date&quot;
      value-format=&quot;timestamp&quot;
      :picker-options=&quot;datePickerOptions&quot;
      :placeholder=&quot;placeholders[0] || &apos;&apos;&quot;
      :clearable=&quot;false&quot;
      @change=&quot;handleStartDateChange&quot;
      class=&quot;date&quot;
    /&gt;
    &lt;el-time-select
      v-model=&quot;start[1]&quot;
      :picker-options=&quot;timePickerOptions&quot;
      :placeholder=&quot;placeholders[1] || &apos;&apos;&quot;
      :clearable=&quot;false&quot;
      @change=&quot;handleStartTimeChange&quot;
      class=&quot;time&quot;
    /&gt;
    &lt;span&gt;{{ rangeSeparator }}&lt;/span&gt;
    &lt;el-date-picker
      v-model=&quot;end[0]&quot;
      type=&quot;date&quot;
      value-format=&quot;timestamp&quot;
      :picker-options=&quot;datePickerOptions&quot;
      :placeholder=&quot;placeholders[2] || &apos;&apos;&quot;
      :clearable=&quot;false&quot;
      @change=&quot;handleEndDateChange&quot;
      class=&quot;date&quot;
    /&gt;
    &lt;el-time-select
      v-model=&quot;end[1]&quot;
      :picker-options=&quot;timePickerOptions&quot;
      :placeholder=&quot;placeholders[3] || &apos;&apos;&quot;
      :clearable=&quot;false&quot;
      @change=&quot;handleEndTimeChange&quot;
      class=&quot;time&quot;
    /&gt;
    &lt;el-button v-if=&quot;value &amp;&amp; (value[0] || value[1])&quot; type=&quot;text&quot; @click=&quot;handleClear&quot;&gt;&#x6E05;&#x7A7A;&lt;/el-button&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
  const DEFAULTS = {
    date: {

    },
    time: {
      start: &apos;00:00&apos;,
      end: &apos;23:45&apos;,
      step: &apos;00:15&apos;,
    }
  }
  export default {
    name: &quot;date-time-picker&quot;,
    model: {
      prop: &apos;value&apos;,
      event: &apos;change&apos;
    },
    props: {
      value: {
        required: true,
        validator(val) {
          return !val || val &amp;&amp; Array.isArray(val)
        }
      },
      rangeSeparator: {
        type: String,
        default: &apos;-&apos;
      },
      pickerOptions: {
        type: Object,
        default() {
          return {

          }
        }
      },
      placeholders: {
        type: Array,
        default() {
          return []
        }
      }
    },
    data() {
      return {
        start: [],
        end: [],
        datePickerOptions: Object.assign({}, DEFAULTS.date, this.pickerOptions.date || {}),
        timePickerOptions: Object.assign({}, DEFAULTS.time, this.pickerOptions.time || {}),
      }
    },

    methods: {
      handleStartDateChange(val) {
        const date = new Date(val)
        const hours = this.start[1] ? this.start[1].split(&apos;:&apos;) : [0, 0]
        date.setHours(...hours)
        const start = new Date(date).getTime()
        const end = Math.max(this.value[1], start)
        this.$emit(&apos;change&apos;, [start, end])
      },

      handleStartTimeChange(val) {
        if (!this.start[0]) { return }
        const date = new Date(this.start[0])
        const hours = val ? val.split(&apos;:&apos;) : [0, 0]
        date.setHours(...hours)
        const start = new Date(date).getTime()
        const end = Math.max(this.value[1], start)
        this.$emit(&apos;change&apos;, [start, end])
      },

      handleEndDateChange(val) {
        const date = new Date(val)
        const hours = this.end[1] ? this.end[1].split(&apos;:&apos;) : [0, 0]
        date.setHours(...hours)
        const end = new Date(date).getTime()
        const start = Math.min(this.value[0], end)
        this.$emit(&apos;change&apos;, [start, end])
      },

      handleEndTimeChange(val) {
        if (!this.end[0]) { return }
        const date = new Date(this.end[0])
        const hours = val ? val.split(&apos;:&apos;) : [0, 0]
        date.setHours(...hours)
        const end = new Date(date).getTime()
        const start = Math.min(this.value[0], end)
        this.$emit(&apos;change&apos;, [start, end])
      },

      handleClear() {
        this.$emit(&apos;change&apos;, [])
      },

      updateDateAndTime() {
        const [start, end] = this.value || []
        const formatClock = this.$root.$options.filters[&apos;formatClock&apos;]
        this.start = start ? [start, formatClock(start, &apos;minute&apos;)] : []
        this.end = end ? [end, formatClock(end, &apos;minute&apos;)] : []
      }
    },

    watch: {
      value: {
        handler() {
          this.updateDateAndTime()
        },
        deep: true,
      }
    },

    mounted() {
      this.updateDateAndTime()
    }
  }
&lt;/script&gt;

&lt;style lang=&quot;scss&quot; scoped&gt;
  .data-time-picker {
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: flex-start;
    &gt; * {
      margin-right: 8px;
      &amp;:last-child {
        margin-right: 0;
      }
    }
  }
  .date {
    width: 100px;
  }
  .time {
    width: 60px;
  }
  /deep/ {
    .el-input__prefix {
      display: none;
    }
    .el-input__inner {
      padding-left: 10px;
      padding-right: 10px;
    }
  }
&lt;/style&gt;
</code></pre>
<h3 id="&#x4F7F;&#x7528;&#x793A;&#x4F8B;">&#x4F7F;&#x7528;&#x793A;&#x4F8B;</h3>
<pre><code class="lang-vue">&lt;!--Other.vue--&gt;
&lt;template&gt;
  &lt;div class=&quot;wrapper&quot;&gt;
     &lt;date-time-range-picker
        v-model=&quot;time&quot;
        @change=&quot;handleChange&quot;
        range-separator=&quot;&#x81F3;&quot;
        :placeholders=&quot;[&apos;&#x5F00;&#x59CB;&#x65E5;&#x671F;&apos;, &apos;&#x65F6;&#x95F4;&apos;, &apos;&#x7ED3;&#x675F;&#x65E5;&#x671F;&apos;, &apos;&#x65F6;&#x95F4;&apos;]&quot;
      /&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import DateTimeRangePicker from &apos;../../common/DateTimeRangePicker&apos;

export default {
  name: &apos;other&apos;,
  components: { DateTimeRangePicker },
  data() {
    return {
      time: []
    }
  },

  methods: {
    handleChange() {
      // ...
    }
  }
}
&lt;/script&gt;
</code></pre>
<h3 id="&#x4F7F;&#x7528;&#x8BF4;&#x660E;">&#x4F7F;&#x7528;&#x8BF4;&#x660E;</h3>
<h4 id="props">Props</h4>
<p><code>value/v-model</code> &#x7EC4;&#x4EF6;&#x7ED1;&#x5B9A;&#x503C;</p>
<p><code>rangeSeparator</code> &#x5F00;&#x59CB;&#x65F6;&#x95F4;&#x548C;&#x7ED3;&#x675F;&#x65F6;&#x95F4;&#x7684;&#x5206;&#x9694;&#x7B26;</p>
<p><code>pickerOptions</code> &#x914D;&#x7F6E;&#x9879;&#xFF0C;<code>pickerOption.date</code>&#x7684;&#x914D;&#x7F6E;&#x9879;&#x53C2;&#x7167;<code>el-date-picker</code>&#xFF0C;<code>pickerOption.time</code>&#x53C2;&#x7167;<code>el-time-select</code></p>
<p><code>placeholders</code> &#x5F00;&#x59CB;&#x65E5;&#x671F;&#x3001;&#x5F00;&#x59CB;&#x65F6;&#x95F4;&#x3001;&#x7ED3;&#x675F;&#x65E5;&#x671F;&#x3001;&#x7ED3;&#x675F;&#x65F6;&#x95F4;&#x7684;&#x9009;&#x62E9;&#x6846;&#x7684;&#x5360;&#x4F4D;&#x5185;&#x5BB9;</p>
<h4 id="events">Events</h4>
<p><code>change</code> &#x7ED1;&#x5B9A;&#x503C;&#x4FEE;&#x6539;&#x540E;&#x89E6;&#x53D1;</p>
<h3 id="&#x6548;&#x679C;&#x9884;&#x89C8;">&#x6548;&#x679C;&#x9884;&#x89C8;</h3>
<p><img src="https://cdn-test.17kjs.com/test_public_server_/1be96785-57c2-472f-9591-275a9f3acbe5.jpg" alt=""></p>
<p><img src="https://cdn-test.17kjs.com/test_public_server_/829d69cb-801a-4b39-ac1d-c861fe3cbc0b.jpg" alt=""></p>
<footer class="page-footer"><span class="copyright">powered by Gitbook</span><span class="footer-modification">&#x6587;&#x4EF6;&#x4FEE;&#x8BA2;&#x65F6;&#x95F4;&#xFF1A;
2022-08-11 10:28:49
</span></footer>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="textEllipsis.html" class="navigation navigation-prev " aria-label="Previous page: 文本省略">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="lazyLoadSelect.html" class="navigation navigation-next " aria-label="Next page: 懒加载选择器">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"时间选择器","level":"1.4.3","depth":2,"next":{"title":"懒加载选择器","level":"1.4.4","depth":2,"path":"common/lazyLoadSelect.md","ref":"common/lazyLoadSelect.md","articles":[]},"previous":{"title":"文本省略","level":"1.4.2","depth":2,"path":"common/textEllipsis.md","ref":"common/textEllipsis.md","articles":[]},"dir":"ltr"},"config":{"plugins":["-sharing","back-to-top-button","highlight","livereload","fontsettings","-search","-lunr","search-pro","tbfed-pagefooter"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"tbfed-pagefooter":{"modify_label":"文件修订时间：","modify_format":"YYYY-MM-DD HH:mm:ss"},"back-to-top-button":{},"highlight":{},"livereload":{},"fontsettings":{"family":"sans","size":2,"theme":"white"},"search-pro":{},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","author":"shifan","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"文档","language":"zh-hans","gitbook":"*"},"file":{"path":"common/dateTimeRangePicker.md","mtime":"2022-08-11T02:28:49.962Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2022-08-12T05:48:08.700Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-pro/jquery.mark.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-pro/search.js"></script>
        
    

    </body>
</html>

